
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>wsgiref --- WSGI 유틸리티와 참조 구현 &#8212; 파이썬 설명서 주석판</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="파이썬 설명서 주석판에서 찾기"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="이 문서 정보" href="../about.html" />
    <link rel="index" title="색인" href="../genindex.html" />
    <link rel="search" title="검색" href="../search.html" />
    <link rel="copyright" title="저작권" href="../copyright.html" />
    <link rel="next" title="urllib --- URL 처리 모듈" href="urllib.html" />
    <link rel="prev" title="cgitb --- CGI 스크립트를 위한 트레이스백 관리자" href="cgitb.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="https://python.flowdas.com/library/wsgiref.html" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112027364-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-112027364-1');
    </script>
    <style>
      div.admonition-flowdas {
        border-radius: 3px;
        background-color: #ffc;
        border: 1px solid #ff6;
      }
    </style>

    
      
      <script type="text/javascript" src="../_static/switchers.js"></script>
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>탐색</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="전체 색인"
             accesskey="I">색인</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 모듈 목록"
             >모듈</a> |</li>
        <li class="right" >
          <a href="urllib.html" title="urllib --- URL 처리 모듈"
             accesskey="N">다음</a> |</li>
        <li class="right" >
          <a href="cgitb.html" title="cgitb --- CGI 스크립트를 위한 트레이스백 관리자"
             accesskey="P">이전</a> |</li>

    <li><img src="../_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <a href="../index.html">설명서 </a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >파이썬 표준 라이브러리</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" accesskey="U">인터넷 프로토콜과 지원</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="빠른 검색" type="text" name="q" />
          <input type="submit" value="이동" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-wsgiref">
<span id="wsgiref-wsgi-utilities-and-reference-implementation"></span><h1><a class="reference internal" href="#module-wsgiref" title="wsgiref: WSGI Utilities and Reference Implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref</span></code></a> --- WSGI 유틸리티와 참조 구현<a class="headerlink" href="#module-wsgiref" title="제목 주소">¶</a></h1>
<hr class="docutils" />
<p>WSGI(Web Server Gateway Interface)는 웹 서버 소프트웨어와 파이썬으로 작성된 웹 응용 프로그램 간의 표준 인터페이스입니다. 표준 인터페이스는 여러 웹 서버에서 WSGI를 지원하는 응용 프로그램을 쉽게 사용할 수 있도록 합니다.</p>
<p>웹 서버와 프로그래밍 프레임워크의 작성자만 WSGI 설계의 모든 세부 사항과 코너 케이스를 알 필요가 있습니다. 단지 WSGI 응용 프로그램을 설치하거나 기존 프레임워크를 사용하여 웹 응용 프로그램을 작성하기 위해, WSGI의 모든 세부 사항을 이해할 필요는 없습니다.</p>
<p><a class="reference internal" href="#module-wsgiref" title="wsgiref: WSGI Utilities and Reference Implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref</span></code></a>는 웹 서버나 프레임워크에 WSGI 지원을 추가하는 데 사용할 수 있는, WSGI 명세의 참조 구현입니다. WSGI 환경 변수와 응답 헤더를 조작하는 유틸리티, WSGI 서버 구현을 위한 베이스 클래스, WSGI 응용 프로그램을 서비스하는 데모 HTTP 서버 및 WSGI 서버와 응용 프로그램이 WSGI 명세(<span class="target" id="index-34"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>)에 부합하는지 확인하는 유효성 검사 도구를 제공합니다.</p>
<p>WSGI에 대한 더 자세한 정보 및 자습서와 기타 자원에 대한 링크는 <a class="reference external" href="https://wsgi.readthedocs.io/">wsgi.readthedocs.io</a>를 참조하십시오.</p>
<div class="section" id="module-wsgiref.util">
<span id="wsgiref-util-wsgi-environment-utilities"></span><h2><a class="reference internal" href="#module-wsgiref.util" title="wsgiref.util: WSGI environment utilities."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.util</span></code></a> -- WSGI 환경 유틸리티<a class="headerlink" href="#module-wsgiref.util" title="제목 주소">¶</a></h2>
<p>이 모듈은 WSGI 환경으로 작업하기 위한 다양한 유틸리티 함수를 제공합니다. WSGI 환경은 <span class="target" id="index-35"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에서 설명한 대로 HTTP 요청 변수를 포함하는 딕셔너리입니다. <em>environ</em> 매개 변수를 취하는 모든 함수는 WSGI 호환 딕셔너리가 제공될 것으로 기대합니다; 자세한 명세는 <span class="target" id="index-36"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>를 참조하십시오.</p>
<dl class="function">
<dt id="wsgiref.util.guess_scheme">
<code class="sig-prename descclassname">wsgiref.util.</code><code class="sig-name descname">guess_scheme</code><span class="sig-paren">(</span><em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.util.guess_scheme" title="정의 주소">¶</a></dt>
<dd><p><em>environ</em> 딕셔너리에서 <code class="docutils literal notranslate"><span class="pre">HTTPS</span></code> 환경 변수를 검사하여 <code class="docutils literal notranslate"><span class="pre">wsgi.url_scheme</span></code>이 &quot;http&quot;와 &quot;https&quot; 중 어느 것인지 추측합니다. 반환 값은 문자열입니다.</p>
<p>이 함수는 CGI 나 FastCGI와 같은 CGI와 유사한 프로토콜을 감싸는 게이트웨이를 만들 때 유용합니다. 일반적으로, 이러한 프로토콜을 제공하는 서버는 SSL을 통해 요청이 수신될 때 &quot;1&quot;, &quot;yes&quot; 또는 &quot;on&quot; 값을 갖는 <code class="docutils literal notranslate"><span class="pre">HTTPS</span></code> 변수를 포함합니다. 따라서, 이 함수는 그런 값을 발견하면 &quot;https&quot;를 반환하고, 그렇지 않으면 &quot;http&quot;를 반환합니다.</p>
<div class="admonition-flowdas admonition">
<p class="admonition-title">flowdas</p>
<p>WSGI 는 <a class="reference external" href="https://tools.ietf.org/html/draft-coar-cgi-v11-03">CGI 1.1</a> 이 정의하는
환경변수 중 일부를 반드시 제공하도록 요구하고 있습니다: <code class="docutils literal notranslate"><span class="pre">REQUEST_METHOD</span></code>, <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>,
<code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">QUERY_STRING</span></code>, <code class="docutils literal notranslate"><span class="pre">CONTENT_TYPE</span></code>, <code class="docutils literal notranslate"><span class="pre">CONTENT_LENGTH</span></code>, <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code>,
<code class="docutils literal notranslate"><span class="pre">SERVER_PORT</span></code>, <code class="docutils literal notranslate"><span class="pre">SERVER_PROTOCOL</span></code>, <code class="docutils literal notranslate"><span class="pre">HTTP_*</span></code>. 이 변수들을 제공하지 않으면 빈 문자열이라는
뜻입니다. 여기에 더해 SSL 요청의 경우는 Apache의 SSL 모듈이 정의하는 변수들도 제공하도록 권장하고 있습니다:
<code class="docutils literal notranslate"><span class="pre">HTTPS</span></code>, <code class="docutils literal notranslate"><span class="pre">SSL_*</span></code>.</p>
<p>WSGI 는 여기에 더해 몇 가지 <code class="docutils literal notranslate"><span class="pre">wsgi.*</span></code> 변수들도 응용 프로그램에 전달하도록 요구하고 있습니다: <code class="docutils literal notranslate"><span class="pre">wsgi.version</span></code>,
<code class="docutils literal notranslate"><span class="pre">wsgi.url_scheme</span></code>, <code class="docutils literal notranslate"><span class="pre">wsgi.input</span></code>, <code class="docutils literal notranslate"><span class="pre">wsgi.errors</span></code>, <code class="docutils literal notranslate"><span class="pre">wsgi.multithread</span></code>,
<code class="docutils literal notranslate"><span class="pre">wsgi.multiprocess</span></code>, <code class="docutils literal notranslate"><span class="pre">wsgi.run_once</span></code>.</p>
<p>이 함수는 CGI 나 그와 유사한 환경에서 동작하는 게이트웨이가 <code class="docutils literal notranslate"><span class="pre">wsgi.url_scheme</span></code> 변수를 설정하기 위해 사용할 수 있습니다.
하지만 로드 밸런서에서 SSL 터미네이션을 하는 경우가 종종 있습니다. 이럴 때 브라우저가 <code class="docutils literal notranslate"><span class="pre">https</span></code> 요청을 보냈어도, 로드 밸런서가
웹 서버로 보내는 요청은 <code class="docutils literal notranslate"><span class="pre">http</span></code> 가 됩니다. 브라우저가 실제 요청한 프로토콜은 <code class="docutils literal notranslate"><span class="pre">X-Forwarded-Proto</span></code> 나 그 외의
비표준 헤더들을 통해 전달되는데, 이 함수는 그런 것을 고려하고 있지 않습니다.</p>
<p>더 나아가 WSGI 명세가 이런 상황에서 <code class="docutils literal notranslate"><span class="pre">wsgi.url_scheme</span></code> 에 어떤 값이 제공되어야 하는지 구체적으로 언급하고 있지 않기
때문에, WSGI 응용 프로그램이나 프레임워크는 <code class="docutils literal notranslate"><span class="pre">wsgi.url_scheme</span></code> 변수의 값이 항상 브라우저의 요청을 반영하고 있다고
가정할 수 없습니다.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="wsgiref.util.request_uri">
<code class="sig-prename descclassname">wsgiref.util.</code><code class="sig-name descname">request_uri</code><span class="sig-paren">(</span><em class="sig-param">environ</em>, <em class="sig-param">include_query=True</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.util.request_uri" title="정의 주소">¶</a></dt>
<dd><p><span class="target" id="index-37"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>의 &quot;URL 재구성&quot; 절에 있는 알고리즘을 사용하여 전체 요청 URI를 반환합니다. 선택적으로 질의 문자열(query string)을 포함합니다. <em>include_query</em>가 거짓이면 질의 문자열은 결과 URI에 포함되지 않습니다.</p>
</dd></dl>

<dl class="function">
<dt id="wsgiref.util.application_uri">
<code class="sig-prename descclassname">wsgiref.util.</code><code class="sig-name descname">application_uri</code><span class="sig-paren">(</span><em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.util.application_uri" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> 와 <code class="docutils literal notranslate"><span class="pre">QUERY_STRING</span></code> 변수가 무시된다는 점을 제외하면 <a class="reference internal" href="#wsgiref.util.request_uri" title="wsgiref.util.request_uri"><code class="xref py py-func docutils literal notranslate"><span class="pre">request_uri()</span></code></a>와 유사합니다. 결과는 요청이 가리키는 응용 프로그램 객체의 기본 URI입니다.</p>
<div class="admonition-flowdas admonition">
<p class="admonition-title">flowdas</p>
<p>&quot;응용 프로그램 객체의 기본 URI&quot; 는 URI 에 <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code> 변수가 포함된다는 뜻입니다.</p>
</div>
<div class="admonition-flowdas admonition">
<p class="admonition-title">flowdas</p>
<p><a class="reference internal" href="#wsgiref.util.request_uri" title="wsgiref.util.request_uri"><code class="xref py py-func docutils literal notranslate"><span class="pre">request_uri()</span></code></a> 와 마찬가지로, 이 함수는 환경 변수 <code class="docutils literal notranslate"><span class="pre">wsgi.url_scheme</span></code> 뿐만 아니라, <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code>,
<code class="docutils literal notranslate"><span class="pre">SERVER_PORT</span></code> 에도 의존합니다. 이 들 역시 로드 밸런서 환경이 올바르게 반영된다는 보장이 없습니다.</p>
<p>응용 프로그램은 URI를 재구성할 때는 <a class="reference internal" href="#module-wsgiref" title="wsgiref: WSGI Utilities and Reference Implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref</span></code></a> 에 의존하기보다는 프레임워크가 제공하는 기능을 사용해야 합니다. 또는
직접 요청 헤더를 조사하도록 직접 구현해야 합니다.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="wsgiref.util.shift_path_info">
<code class="sig-prename descclassname">wsgiref.util.</code><code class="sig-name descname">shift_path_info</code><span class="sig-paren">(</span><em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.util.shift_path_info" title="정의 주소">¶</a></dt>
<dd><p>단일 이름을 <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>에서 <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>로 이동하고 이름을 반환합니다. <em>environ</em> 딕셔너리는 그 자리에서 <em>수정</em>됩니다; 원본 <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> 나 <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>를 그대로 유지해야 하면 사본을 사용하십시오.</p>
<p><code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>에 남아있는 경로 세그먼트가 없으면, <code class="docutils literal notranslate"><span class="pre">None</span></code>이 반환됩니다.</p>
<p>일반적으로, 이 루틴은 요청 URI 경로의 각 부분을 처리하는 데 사용됩니다, 예를 들어 경로를 일련의 딕셔너리 키로 취급합니다. 이 루틴은 전달된 환경을 수정하여 대상 URI에 있는 다른 WSGI 응용 프로그램을 호출하는 데 적합하게 만듭니다. 예를 들어, <code class="docutils literal notranslate"><span class="pre">/foo</span></code>에 WSGI 응용 프로그램이 있고, 요청 URI 경로가 <code class="docutils literal notranslate"><span class="pre">/foo/bar/baz</span></code>이고, <code class="docutils literal notranslate"><span class="pre">/foo</span></code>의 WSGI 응용 프로그램이 <a class="reference internal" href="#wsgiref.util.shift_path_info" title="wsgiref.util.shift_path_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">shift_path_info()</span></code></a>를 호출하면 &quot;bar&quot; 문자열을 수신하고 전달할 환경이 <code class="docutils literal notranslate"><span class="pre">/foo/bar</span></code>에 있는 WSGI 응용 프로그램에 전달하기 적합하도록 갱신됩니다. 즉, <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>는 <code class="docutils literal notranslate"><span class="pre">/foo</span></code>에서 <code class="docutils literal notranslate"><span class="pre">/foo/bar</span></code>로 변경되고, <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>는 <code class="docutils literal notranslate"><span class="pre">/bar/baz</span></code>에서 <code class="docutils literal notranslate"><span class="pre">/baz</span></code>로 변경됩니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>가 단지 &quot;/&quot;일 때, 이 루틴은 빈 문자열을 반환하고 <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>에 후행 슬래시를 추가합니다; 빈 경로 세그먼트는 일반적으로 무시되고, <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>는 일반적으로 슬래시로 끝나지 않음에도 그렇게 합니다. 의도적인 동작입니다. 이 루틴을 사용하여 객체를 탐색할 때, 응용 프로그램이 <code class="docutils literal notranslate"><span class="pre">/x</span></code>로 끝나는 URI와 <code class="docutils literal notranslate"><span class="pre">/x/</span></code>로 끝나는 URI의 차이를 구별할 수 있도록 하기 위함입니다.</p>
</dd></dl>

<dl class="function">
<dt id="wsgiref.util.setup_testing_defaults">
<code class="sig-prename descclassname">wsgiref.util.</code><code class="sig-name descname">setup_testing_defaults</code><span class="sig-paren">(</span><em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.util.setup_testing_defaults" title="정의 주소">¶</a></dt>
<dd><p>테스트 목적으로 <em>environ</em>를 뻔한 기본값으로 갱신합니다.</p>
<p>이 루틴은 <code class="docutils literal notranslate"><span class="pre">HTTP_HOST</span></code>, <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code>, <code class="docutils literal notranslate"><span class="pre">SERVER_PORT</span></code>, <code class="docutils literal notranslate"><span class="pre">REQUEST_METHOD</span></code>, <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>, <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> 및 모든 <span class="target" id="index-38"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에서 정의된 <code class="docutils literal notranslate"><span class="pre">wsgi.*</span></code> 변수를 포함하여 WSGI에 필요한 다양한 매개 변수를 추가합니다. 기본값만 제공하며, 이 변수들에 대한 기존 설정을 대체하지 않습니다.</p>
<p>이 루틴은 WSGI 서버와 응용 프로그램의 단위 테스트가 더미 환경을 쉽게 설정하도록 하기 위한 것입니다. 데이터가 가짜이므로, 실제 WSGI 서버나 응용 프로그램에서 사용해서는 안 됩니다!</p>
<p>사용 예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wsgiref.util</span> <span class="k">import</span> <span class="n">setup_testing_defaults</span>
<span class="kn">from</span> <span class="nn">wsgiref.simple_server</span> <span class="k">import</span> <span class="n">make_server</span>

<span class="c1"># 상대적으로 간단한 WSGI 응용 프로그램. setup_testing_defaults로 갱신된 후에 환경</span>
<span class="c1"># 딕셔너리를 인쇄할 것입니다.</span>
<span class="k">def</span> <span class="nf">simple_app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="n">setup_testing_defaults</span><span class="p">(</span><span class="n">environ</span><span class="p">)</span>

    <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;200 OK&#39;</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Content-type&#39;</span><span class="p">,</span> <span class="s1">&#39;text/plain; charset=utf-8&#39;</span><span class="p">)]</span>

    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

    <span class="n">ret</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
           <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">environ</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">with</span> <span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">,</span> <span class="n">simple_app</span><span class="p">)</span> <span class="k">as</span> <span class="n">httpd</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Serving on port 8000...&quot;</span><span class="p">)</span>
    <span class="n">httpd</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<p>위의 환경 함수 외에도, <a class="reference internal" href="#module-wsgiref.util" title="wsgiref.util: WSGI environment utilities."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.util</span></code></a> 모듈은 다음과 같은 기타 유틸리티를 제공합니다:</p>
<dl class="function">
<dt id="wsgiref.util.is_hop_by_hop">
<code class="sig-prename descclassname">wsgiref.util.</code><code class="sig-name descname">is_hop_by_hop</code><span class="sig-paren">(</span><em class="sig-param">header_name</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.util.is_hop_by_hop" title="정의 주소">¶</a></dt>
<dd><p>'header_name'이 <span class="target" id="index-39"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a>가 정의하고 있는 HTTP/1.1 &quot;Hop-by-Hop&quot; 헤더면 <code class="docutils literal notranslate"><span class="pre">True</span></code>를 반환합니다.</p>
<div class="admonition-flowdas admonition">
<p class="admonition-title">flowdas</p>
<p>HTTP 프로토콜은 브라우저와 오리진 서버 사이에 캐싱, 로드 밸런싱, 라우팅 등을 위해 다양한 중간자들이 끼어들 수 있도록 합니다.
이때 직접 소켓으로 연결되어 통신하는 당사자들 간에만 의미 있는 헤더들이 있는데, 이들을 &quot;Hop-by-Hop&quot; 헤더라고
부릅니다. WSGI 는 WSGI 응용 프로그램이 &quot;Hop-by-Hop&quot; 헤더를 직접 응답하는 것을 금지하고 있습니다. 이 함수가 감지하는
&quot;Hop-by-Hop&quot; 헤더는  <code class="docutils literal notranslate"><span class="pre">'connection'</span></code>, <code class="docutils literal notranslate"><span class="pre">'keep-alive'</span></code>, <code class="docutils literal notranslate"><span class="pre">'proxy-authenticate'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'proxy-authorization'</span></code>, <code class="docutils literal notranslate"><span class="pre">'te'</span></code>, <code class="docutils literal notranslate"><span class="pre">'trailers'</span></code>, <code class="docutils literal notranslate"><span class="pre">'transfer-encoding'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'upgrade'</span></code> 입니다. 이 헤더들은 WSGI 컨테이너가 필요할 때 만들어냅니다.</p>
<p>이 제약은 WSGI로 중간자를 만들기 어렵게 합니다.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="wsgiref.util.FileWrapper">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.util.</code><code class="sig-name descname">FileWrapper</code><span class="sig-paren">(</span><em class="sig-param">filelike</em>, <em class="sig-param">blksize=8192</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.util.FileWrapper" title="정의 주소">¶</a></dt>
<dd><p>파일류 객체를 <a class="reference internal" href="../glossary.html#term-iterator"><span class="xref std std-term">이터레이터</span></a>로 변환하는 래퍼. 결과 객체는 파이썬 2.1과 Jython과의 호환성을 위해, <a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a> 과 <a class="reference internal" href="../reference/datamodel.html#object.__iter__" title="object.__iter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a> 이터레이션 스타일을 모두 지원합니다. 객체가 이터레이트될 때, 선택적인 <em>blksize</em> 매개 변수는 산출할 바이트열을 얻기 위해 <em>filelike</em> 객체의 <code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code> 메서드에 반복적으로 전달됩니다. <code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code>가 빈 바이트열을 반환하면 이터레이션이 종료되고 다시 시작할 수 없습니다.</p>
<p><em>filelike</em>에 <code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code> 메서드가 있으면, 반환된 객체에도 <code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code> 메서드가 있고, 호출될 때 <em>filelike</em> 객체의 <code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code> 메서드를 호출합니다.</p>
<p>사용 예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">io</span> <span class="k">import</span> <span class="n">StringIO</span>
<span class="kn">from</span> <span class="nn">wsgiref.util</span> <span class="k">import</span> <span class="n">FileWrapper</span>

<span class="c1"># 파일류 객체로 StringIO 버퍼를 사용하고 있습니다</span>
<span class="n">filelike</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="s2">&quot;This is an example file-like object&quot;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="n">wrapper</span> <span class="o">=</span> <span class="n">FileWrapper</span><span class="p">(</span><span class="n">filelike</span><span class="p">,</span> <span class="n">blksize</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">wrapper</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">버전 3.8부터 폐지: </span><a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">시퀀스</span> <span class="pre">프로토콜</span></code></a> 지원은 폐지되었습니다.</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-wsgiref.headers">
<span id="wsgiref-headers-wsgi-response-header-tools"></span><h2><a class="reference internal" href="#module-wsgiref.headers" title="wsgiref.headers: WSGI response header tools."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.headers</span></code></a> -- WSGI 응답 헤더 도구<a class="headerlink" href="#module-wsgiref.headers" title="제목 주소">¶</a></h2>
<p>이 모듈은 매핑류 인터페이스를 사용하여 WSGI 응답 헤더를 편리하게 조작할 수 있는 클래스 <a class="reference internal" href="#wsgiref.headers.Headers" title="wsgiref.headers.Headers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> 하나를 제공합니다.</p>
<dl class="class">
<dt id="wsgiref.headers.Headers">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.headers.</code><code class="sig-name descname">Headers</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">headers</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.headers.Headers" title="정의 주소">¶</a></dt>
<dd><p><span class="target" id="index-40"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에 설명된 것처럼 헤더 이름/값 튜플의 리스트이어야 하는 <em>headers</em>를 감싸는 매핑류 객체를 만듭니다. <em>headers</em>의 기본값은 빈 리스트입니다.</p>
<p><a class="reference internal" href="#wsgiref.headers.Headers" title="wsgiref.headers.Headers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> 객체는 <a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code>, <a class="reference internal" href="../reference/datamodel.html#object.__setitem__" title="object.__setitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__setitem__()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">setdefault()</span></code>, <a class="reference internal" href="../reference/datamodel.html#object.__delitem__" title="object.__delitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__delitem__()</span></code></a> 및 <a class="reference internal" href="../reference/datamodel.html#object.__contains__" title="object.__contains__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__contains__()</span></code></a>를 포함한 일반적인 매핑 연산을 지원합니다. 이러한 각 메서드에 대해, 키는 헤더 이름(대소 문자를 구분하지 않습니다)이며, 값은 해당 헤더 이름과 연관된 첫 번째 값입니다. 헤더를 설정하면 해당 헤더의 기존 값이 삭제된 다음, 감싸진 헤러 리스트의 끝에 새 값이 추가됩니다. 헤더의 기존 순서는 일반적으로 유지되며, 감싸진 리스트의 끝에 새 헤더가 추가됩니다.</p>
<p>딕셔너리와 달리, <a class="reference internal" href="#wsgiref.headers.Headers" title="wsgiref.headers.Headers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> 객체는 감싸진 헤더 리스트에 없는 키를 가져오거나 삭제하려고 하면 에러를 발생시키지 않습니다. 존재하지 않는 헤더를 가져오려고 하면 <code class="docutils literal notranslate"><span class="pre">None</span></code>을 반환하고, 존재하지 않는 헤더를 삭제하면 아무것도 하지 않습니다.</p>
<p><a class="reference internal" href="#wsgiref.headers.Headers" title="wsgiref.headers.Headers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> 객체는 <code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">values()</span></code> 및 <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code> 메서드도 지원합니다. <code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code> 와 <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code>에 의해 반환된 리스트에는 다중-값 헤더가 있으면 같은 키가 두 번 이상 포함될 수 있습니다. <a class="reference internal" href="#wsgiref.headers.Headers" title="wsgiref.headers.Headers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> 객체의 <code class="docutils literal notranslate"><span class="pre">len()</span></code>는 <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code>의 길이와 같고, 이는 감싸진 헤더 리스트의 길이와 같습니다. 실제로, <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code> 메서드는 단지 감싸진 헤더 리스트의 복사본을 반환합니다.</p>
<p><a class="reference internal" href="#wsgiref.headers.Headers" title="wsgiref.headers.Headers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> 객체에서 <code class="docutils literal notranslate"><span class="pre">bytes()</span></code>를 호출하면 HTTP 응답 헤더로 전송하기에 적합한 포맷된 바이트열이 반환됩니다. 각 헤더는 콜론과 공백으로 구분된 값과 함께 줄에 들어갑니다. 각 줄은 캐리지 리턴과 줄넘김으로 끝나며, 바이트열은 빈 줄로 끝납니다.</p>
<p><a class="reference internal" href="#wsgiref.headers.Headers" title="wsgiref.headers.Headers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> 객체는 매핑 인터페이스와 포매팅 기능 외에도, 다중-값 헤더를 조회하거나 추가하고, MIME 파라미터가 있는 헤더를 추가하기 위해 다음과 같은 메서드를 제공합니다:</p>
<dl class="method">
<dt id="wsgiref.headers.Headers.get_all">
<code class="sig-name descname">get_all</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.headers.Headers.get_all" title="정의 주소">¶</a></dt>
<dd><p>주어진 이름의 헤더에 대한 모든 값의 리스트를 반환합니다.</p>
<p>반환된 리스트는 원래 헤더 리스트에 나타나거나 이 인스턴스에 추가된 순서대로 정렬되고, 중복을 포함할 수 있습니다. 삭제되고 다시 삽입된 필드는 항상 헤더 리스트의 끝에 추가됩니다. 주어진 이름의 필드가 존재하지 않으면, 빈 리스트를 반환합니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.headers.Headers.add_header">
<code class="sig-name descname">add_header</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">value</em>, <em class="sig-param">**_params</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.headers.Headers.add_header" title="정의 주소">¶</a></dt>
<dd><p>키워드 인자로 지정되는 선택적 MIME 파라미터와 함께 헤더를 추가합니다 (다중-값 가능).</p>
<p><em>name</em>은 추가할 헤더 필드입니다. 키워드 인자는 헤더 필드에 대한 MIME 파라미터를 설정하는 데 사용될 수 있습니다. 각 파라미터는 문자열이나 <code class="docutils literal notranslate"><span class="pre">None</span></code> 이어야 합니다. 파라미터 이름의 밑줄은 대시로 변환됩니다; 파이썬 식별자에서는 대시가 유효하지 않지만 많은 MIME 파라미터 이름에는 대시가 포함되기 때문입니다. 파라미터값이 문자열이면 <code class="docutils literal notranslate"><span class="pre">name=&quot;value&quot;</span></code> 형식으로 헤더 값 파라미터에 추가됩니다. <code class="docutils literal notranslate"><span class="pre">None</span></code>이면 파라미터 이름 만 추가됩니다. (이것은 값이 없는 MIME 파라미터에 사용됩니다.) 사용 예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">h</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s1">&#39;content-disposition&#39;</span><span class="p">,</span> <span class="s1">&#39;attachment&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;bud.gif&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>위의 코드는 다음과 같은 헤더를 추가합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Content</span><span class="o">-</span><span class="n">Disposition</span><span class="p">:</span> <span class="n">attachment</span><span class="p">;</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;bud.gif&quot;</span>
</pre></div>
</div>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">버전 3.5에서 변경: </span><em>headers</em> 매개 변수는 선택적입니다.</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-wsgiref.simple_server">
<span id="wsgiref-simple-server-a-simple-wsgi-http-server"></span><h2><a class="reference internal" href="#module-wsgiref.simple_server" title="wsgiref.simple_server: A simple WSGI HTTP server."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.simple_server</span></code></a> -- 간단한 WSGI HTTP 서버<a class="headerlink" href="#module-wsgiref.simple_server" title="제목 주소">¶</a></h2>
<p>이 모듈은 WSGI 응용 프로그램을 서빙하는 간단한 HTTP 서버(<a class="reference internal" href="http.server.html#module-http.server" title="http.server: HTTP server and request handlers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.server</span></code></a> 기반)를 구현합니다. 각 서버 인스턴스는 주어진 호스트와 포트에서 단일 WSGI 응용 프로그램을 서빙합니다. 단일 호스트와 포트에서 여러 응용 프로그램을 서빙하려면, <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>를 구문 분석하여 각 요청에 대해 호출할 응용 프로그램을 선택하는 WSGI 응용 프로그램을 만들어야 합니다. (예를 들어, <a class="reference internal" href="#module-wsgiref.util" title="wsgiref.util: WSGI environment utilities."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.util</span></code></a>의 <code class="xref py py-func docutils literal notranslate"><span class="pre">shift_path_info()</span></code> 함수를 사용해서.)</p>
<dl class="function">
<dt id="wsgiref.simple_server.make_server">
<code class="sig-prename descclassname">wsgiref.simple_server.</code><code class="sig-name descname">make_server</code><span class="sig-paren">(</span><em class="sig-param">host</em>, <em class="sig-param">port</em>, <em class="sig-param">app</em>, <em class="sig-param">server_class=WSGIServer</em>, <em class="sig-param">handler_class=WSGIRequestHandler</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.make_server" title="정의 주소">¶</a></dt>
<dd><p><em>host</em> 와 <em>port</em>에서 수신을 기다리고, <em>app</em>에 대한 연결을 수락하는 새 WSGI 서버를 만듭니다. 반환 값은 제공된 <em>server_class</em>의 인스턴스이며, 지정된 <em>handler_class</em>를 사용하여 요청을 처리합니다. <em>app</em>는 <span class="target" id="index-41"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에 정의된 WSGI 응용 프로그램 객체여야 합니다.</p>
<p>사용 예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wsgiref.simple_server</span> <span class="k">import</span> <span class="n">make_server</span><span class="p">,</span> <span class="n">demo_app</span>

<span class="k">with</span> <span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">,</span> <span class="n">demo_app</span><span class="p">)</span> <span class="k">as</span> <span class="n">httpd</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Serving HTTP on port 8000...&quot;</span><span class="p">)</span>

    <span class="c1"># 프로세스를 죽일 때까지 요청에 응답합니다</span>
    <span class="n">httpd</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>

    <span class="c1"># 대안: 하나의 요청을 처리한 다음 종료합니다</span>
    <span class="n">httpd</span><span class="o">.</span><span class="n">handle_request</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="wsgiref.simple_server.demo_app">
<code class="sig-prename descclassname">wsgiref.simple_server.</code><code class="sig-name descname">demo_app</code><span class="sig-paren">(</span><em class="sig-param">environ</em>, <em class="sig-param">start_response</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.demo_app" title="정의 주소">¶</a></dt>
<dd><p>이 함수는 작지만 완벽한 WSGI 응용 프로그램인데, &quot;Hello world!&quot; 메시지와 <em>environ</em> 매개 변수에 제공된 키/값 쌍 목록이 포함된 텍스트 페이지를 반환합니다. WSGI 서버(가령 <a class="reference internal" href="#module-wsgiref.simple_server" title="wsgiref.simple_server: A simple WSGI HTTP server."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.simple_server</span></code></a>)가 간단한 WSGI 응용 프로그램을 올바르게 실행할 수 있는지 확인하는 데 유용합니다.</p>
</dd></dl>

<dl class="class">
<dt id="wsgiref.simple_server.WSGIServer">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.simple_server.</code><code class="sig-name descname">WSGIServer</code><span class="sig-paren">(</span><em class="sig-param">server_address</em>, <em class="sig-param">RequestHandlerClass</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.WSGIServer" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#wsgiref.simple_server.WSGIServer" title="wsgiref.simple_server.WSGIServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WSGIServer</span></code></a> 인스턴스를 만듭니다. <em>server_address</em>는 <code class="docutils literal notranslate"><span class="pre">(host,port)</span></code> 튜플이어야 하며, <em>RequestHandlerClass</em>는 <a class="reference internal" href="http.server.html#http.server.BaseHTTPRequestHandler" title="http.server.BaseHTTPRequestHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">http.server.BaseHTTPRequestHandler</span></code></a>의 서브 클래스여야 하는데, 요청을 처리하는 데 사용됩니다.</p>
<p><a class="reference internal" href="#wsgiref.simple_server.make_server" title="wsgiref.simple_server.make_server"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_server()</span></code></a> 함수가 모든 세부 사항을 처리할 수 있으므로, 일반적으로 이 생성자를 호출할 필요가 없습니다.</p>
<p><a class="reference internal" href="#wsgiref.simple_server.WSGIServer" title="wsgiref.simple_server.WSGIServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WSGIServer</span></code></a>는 <a class="reference internal" href="http.server.html#http.server.HTTPServer" title="http.server.HTTPServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">http.server.HTTPServer</span></code></a>의 서브 클래스이므로, 모든 메서드(가령 <code class="xref py py-meth docutils literal notranslate"><span class="pre">serve_forever()</span></code>와 <code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_request()</span></code>)를 사용할 수 있습니다. <a class="reference internal" href="#wsgiref.simple_server.WSGIServer" title="wsgiref.simple_server.WSGIServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WSGIServer</span></code></a>는 또한 다음과 같은 WSGI 전용 메서드를 제공합니다:</p>
<dl class="method">
<dt id="wsgiref.simple_server.WSGIServer.set_app">
<code class="sig-name descname">set_app</code><span class="sig-paren">(</span><em class="sig-param">application</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.WSGIServer.set_app" title="정의 주소">¶</a></dt>
<dd><p>콜러블 <em>application</em>을 요청을 수신하는 WSGI 응용 프로그램으로 설정합니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.simple_server.WSGIServer.get_app">
<code class="sig-name descname">get_app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.WSGIServer.get_app" title="정의 주소">¶</a></dt>
<dd><p>현재 설정되어있는 응용 프로그램 콜러블을 반환합니다.</p>
</dd></dl>

<p>그러나 일반적으로, 이러한 추가 메서드를 사용할 필요가 없는데, <a class="reference internal" href="#wsgiref.simple_server.WSGIServer.set_app" title="wsgiref.simple_server.WSGIServer.set_app"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_app()</span></code></a>는 일반적으로 <a class="reference internal" href="#wsgiref.simple_server.make_server" title="wsgiref.simple_server.make_server"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_server()</span></code></a>에서 호출되고, <a class="reference internal" href="#wsgiref.simple_server.WSGIServer.get_app" title="wsgiref.simple_server.WSGIServer.get_app"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_app()</span></code></a>은 주로 요청 처리기 인스턴스의 필요를 위해 존재하기 때문입니다</p>
</dd></dl>

<dl class="class">
<dt id="wsgiref.simple_server.WSGIRequestHandler">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.simple_server.</code><code class="sig-name descname">WSGIRequestHandler</code><span class="sig-paren">(</span><em class="sig-param">request</em>, <em class="sig-param">client_address</em>, <em class="sig-param">server</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.WSGIRequestHandler" title="정의 주소">¶</a></dt>
<dd><p>지정된 <em>request</em> (즉, 소켓), <em>client_address</em> (<code class="docutils literal notranslate"><span class="pre">(host,port)</span></code> 튜플) 및 <em>server</em> (<a class="reference internal" href="#wsgiref.simple_server.WSGIServer" title="wsgiref.simple_server.WSGIServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WSGIServer</span></code></a> 인스턴스)를 위한 HTTP 처리기를 만듭니다.</p>
<p>이 클래스의 인스턴스를 직접 만들 필요는 없습니다; <a class="reference internal" href="#wsgiref.simple_server.WSGIServer" title="wsgiref.simple_server.WSGIServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WSGIServer</span></code></a> 객체가 필요에 따라 자동으로 만듭니다. 그러나, 이 클래스를 서브 클래싱하여 <em>handler_class</em>로 <a class="reference internal" href="#wsgiref.simple_server.make_server" title="wsgiref.simple_server.make_server"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_server()</span></code></a> 함수에 제공할 수 있습니다. 서브 클래스에서 재정의하는데 적합한 메서드들은 다음과 같습니다:</p>
<dl class="method">
<dt id="wsgiref.simple_server.WSGIRequestHandler.get_environ">
<code class="sig-name descname">get_environ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.WSGIRequestHandler.get_environ" title="정의 주소">¶</a></dt>
<dd><p>요청에 대한 WSGI 환경을 포함하는 딕셔너리를 반환합니다. 기본 구현은 <a class="reference internal" href="#wsgiref.simple_server.WSGIServer" title="wsgiref.simple_server.WSGIServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WSGIServer</span></code></a> 객체의 <code class="xref py py-attr docutils literal notranslate"><span class="pre">base_environ</span></code> 딕셔너리 어트리뷰트의 내용을 복사한 다음, HTTP 요청으로부터 온 다양한 헤더를 추가합니다. 이 메서드를 호출할 때마다 <span class="target" id="index-42"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에 지정된 CGI 환경 변수를 모두 포함하는 새 딕셔너리를 반환해야 합니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.simple_server.WSGIRequestHandler.get_stderr">
<code class="sig-name descname">get_stderr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.WSGIRequestHandler.get_stderr" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">wsgi.errors</span></code> 스트림으로 사용해야 하는 객체를 반환합니다. 기본 구현은 단지 <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>를 반환합니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.simple_server.WSGIRequestHandler.handle">
<code class="sig-name descname">handle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.simple_server.WSGIRequestHandler.handle" title="정의 주소">¶</a></dt>
<dd><p>HTTP 요청을 처리합니다. 기본 구현은 <a class="reference internal" href="#module-wsgiref.handlers" title="wsgiref.handlers: WSGI server/gateway base classes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.handlers</span></code></a> 클래스를 사용하여 실제 WSGI 응용 프로그램 인터페이스를 구현하는 처리기 인스턴스를 만듭니다.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wsgiref.validate">
<span id="wsgiref-validate-wsgi-conformance-checker"></span><h2><a class="reference internal" href="#module-wsgiref.validate" title="wsgiref.validate: WSGI conformance checker."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.validate</span></code></a> --- WSGI 적합성 검사기<a class="headerlink" href="#module-wsgiref.validate" title="제목 주소">¶</a></h2>
<p>새로운 WSGI 응용 프로그램 객체, 프레임워크, 서버 또는 미들웨어를 만들 때, <a class="reference internal" href="#module-wsgiref.validate" title="wsgiref.validate: WSGI conformance checker."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.validate</span></code></a>를 사용하여 새 코드의 적합성을 확인하는 것이 유용할 수 있습니다. 이 모듈은 WSGI 서버나 게이트웨이와 WSGI 응용 프로그램 객체 사이의 통신을 검증하는 WSGI 응용 프로그램 객체를 만드는 함수를 제공하여, 양측의 프로토콜 준수 여부를 검사할 수 있도록 합니다.</p>
<p>이 유틸리티는 완전한 <span class="target" id="index-43"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a> 적합성을 보장하지는 않습니다; 이 모듈에서 에러가 없다고 해서 에러가 존재하지 않는다는 것을 의미하지는 않습니다. 그러나, 이 모듈에서 오류가 발생하면, 서버나 응용 프로그램이 100% 적합하지 않다는 것은 사실상 확실합니다.</p>
<p>이 모듈은 Ian Bicking의 &quot;Python Paste&quot; 라이브러리의 <code class="xref py py-mod docutils literal notranslate"><span class="pre">paste.lint</span></code> 모듈을 기반으로 합니다.</p>
<dl class="function">
<dt id="wsgiref.validate.validator">
<code class="sig-prename descclassname">wsgiref.validate.</code><code class="sig-name descname">validator</code><span class="sig-paren">(</span><em class="sig-param">application</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.validate.validator" title="정의 주소">¶</a></dt>
<dd><p><em>application</em> 감싸고 새 WSGI 응용 프로그램 객체를 반환합니다. 반환된 응용 프로그램은 모든 요청을 원래 <em>application</em>으로 전달하고, <em>application</em>과 이를 호출하는 서버가 모두 WSGI 명세와 <span class="target" id="index-44"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a>를 준수하는지 확인합니다.</p>
<p>탐지된 모든 부적합 결과는 <a class="reference internal" href="exceptions.html#AssertionError" title="AssertionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code></a>를 일으킵니다; 그러나 이러한 에러를 처리하는 방법은 서버에 따라 다릅니다. 예를 들어, <a class="reference internal" href="#module-wsgiref.simple_server" title="wsgiref.simple_server: A simple WSGI HTTP server."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.simple_server</span></code></a>와 <a class="reference internal" href="#module-wsgiref.handlers" title="wsgiref.handlers: WSGI server/gateway base classes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.handlers</span></code></a>를 기반으로 하는 다른 (에러 처리 메서드를 재정의해서 다른 작업을 수행하지 않는) 서버는 단순히 에러가 발생했다는 메시지를 출력하고 <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> 나 기타 에러 스트림으로 트레이스백을 덤프합니다.</p>
<p>이 래퍼는 의심스럽기는 하지만 <span class="target" id="index-45"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에서 실제로 금지되지 않을 수도 있는 동작을 나타내도록 <a class="reference internal" href="warnings.html#module-warnings" title="warnings: Issue warning messages and control their disposition."><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> 모듈을 사용하여 출력을 생성할 수도 있습니다. 파이썬 명령 줄 옵션이나 <a class="reference internal" href="warnings.html#module-warnings" title="warnings: Issue warning messages and control their disposition."><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> API를 사용해서 억제되지 않는 한, 그러한 경고는 <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>(같은 객체가 아니라면 <code class="docutils literal notranslate"><span class="pre">wsgi.errors</span></code>가 <em>아닙니다</em>)에 기록됩니다.</p>
<p>사용 예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wsgiref.validate</span> <span class="k">import</span> <span class="n">validator</span>
<span class="kn">from</span> <span class="nn">wsgiref.simple_server</span> <span class="k">import</span> <span class="n">make_server</span>

<span class="c1"># 의도적으로 표준을 준수하지 않는 콜러블 객체이므로, 적합성 검사기가 중단됩니다</span>
<span class="k">def</span> <span class="nf">simple_app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;200 OK&#39;</span>  <span class="c1"># HTTP Status</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Content-type&#39;</span><span class="p">,</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">)]</span>  <span class="c1"># HTTP Headers</span>
    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

    <span class="c1"># 이것은 중단하게 되는데, 목록을 반환해야 하기 때문입니다, 적합성 검사기가 알려줄 것입니다</span>
    <span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;Hello World&quot;</span>

<span class="c1"># 이것은 적합성 검사기로 감싼 응용 프로그램입니다</span>
<span class="n">validator_app</span> <span class="o">=</span> <span class="n">validator</span><span class="p">(</span><span class="n">simple_app</span><span class="p">)</span>

<span class="k">with</span> <span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">,</span> <span class="n">validator_app</span><span class="p">)</span> <span class="k">as</span> <span class="n">httpd</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Listening on port 8000....&quot;</span><span class="p">)</span>
    <span class="n">httpd</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-wsgiref.handlers">
<span id="wsgiref-handlers-server-gateway-base-classes"></span><h2><a class="reference internal" href="#module-wsgiref.handlers" title="wsgiref.handlers: WSGI server/gateway base classes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.handlers</span></code></a> -- 서버/게이트웨이 베이스 클래스<a class="headerlink" href="#module-wsgiref.handlers" title="제목 주소">¶</a></h2>
<p>이 모듈은 WSGI 서버와 게이트웨이를 구현하기 위한 베이스 처리기 클래스를 제공합니다. 이러한 베이스 클래스는 입력, 출력 및 에러 스트림과 함께 CGI와 유사한 환경이 제공되는 한, WSGI 응용 프로그램과 통신하는 대부분 작업을 처리합니다.</p>
<dl class="class">
<dt id="wsgiref.handlers.CGIHandler">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.handlers.</code><code class="sig-name descname">CGIHandler</code><a class="headerlink" href="#wsgiref.handlers.CGIHandler" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">sys.stdin</span></code>, <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code>, <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> 및 <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>를 통한 CGI 기반 호출. 이것은 WSGI 응용 프로그램이 있고 CGI 스크립트로 실행하려고 할 때 유용합니다. <code class="docutils literal notranslate"><span class="pre">CGIHandler().run(app)</span></code>을 호출하기만 하면 됩니다. 여기서 <code class="docutils literal notranslate"><span class="pre">app</span></code>은 호출할 WSGI 응용 프로그램 객체입니다.</p>
<p>이 클래스는 <code class="docutils literal notranslate"><span class="pre">wsgi.run_once</span></code>를 참으로, <code class="docutils literal notranslate"><span class="pre">wsgi.multithread</span></code>를 거짓으로, <code class="docutils literal notranslate"><span class="pre">wsgi.multiprocess</span></code>를 참으로 설정하고, 필요한 CGI 스트림과 환경을 얻기 위해 항상 <a class="reference internal" href="sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>와 <a class="reference internal" href="os.html#module-os" title="os: Miscellaneous operating system interfaces."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a>를 사용하는 <a class="reference internal" href="#wsgiref.handlers.BaseCGIHandler" title="wsgiref.handlers.BaseCGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCGIHandler</span></code></a>의 서브 클래스입니다.</p>
</dd></dl>

<dl class="class">
<dt id="wsgiref.handlers.IISCGIHandler">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.handlers.</code><code class="sig-name descname">IISCGIHandler</code><a class="headerlink" href="#wsgiref.handlers.IISCGIHandler" title="정의 주소">¶</a></dt>
<dd><p>config allowPathInfo 옵션 (IIS&gt;=7) 나 metabase allowPathInfoForScriptMappings (IIS&lt;7)를 설정하지 않고도, Microsoft IIS 웹 서버에 배포할 때 사용할 수 있는 <a class="reference internal" href="#wsgiref.handlers.CGIHandler" title="wsgiref.handlers.CGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHandler</span></code></a>의 특수한 대안.</p>
<p>기본적으로, IIS는 앞에 <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>이 중복된 <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>를 제공하므로, 라우팅을 구현하려는 WSGI 응용 프로그램에 문제가 발생합니다. 이 처리기는 중복된 경로를 제거합니다.</p>
<p>IIS가 올바른 <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code>를 전달하도록 구성할 수 있지만, <code class="docutils literal notranslate"><span class="pre">PATH_TRANSLATED</span></code>가 잘못되는 다른 버그가 발생합니다. 다행히도 이 변수는 거의 사용되지 않으며 WSGI에서 보장하지 않습니다. 그러나 IIS&lt;7에서는 설정이 가상 호스트 수준에서만 이루어지므로, 다른 모든 스크립트 매핑에 영향을 미치며, 그중 많은 것들이 <code class="docutils literal notranslate"><span class="pre">PATH_TRANSLATED</span></code> 버그에 노출되면 망가집니다. 이러한 이유로 IIS&lt;7은 거의 수정해서 배포되지 않습니다. (아직도 UI가 없어서 IIS7 조차도 거의 사용하지 않습니다.)</p>
<p>CGI 코드가 옵션이 설정되었는지를 알 수 있는 방법이 없으므로, 별도의 처리기 클래스가 제공됩니다. <a class="reference internal" href="#wsgiref.handlers.CGIHandler" title="wsgiref.handlers.CGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHandler</span></code></a>와 같은 방식으로 사용됩니다. 즉, <code class="docutils literal notranslate"><span class="pre">IISCGIHandler().run(app)</span></code>을 호출합니다. 여기서 <code class="docutils literal notranslate"><span class="pre">app</span></code>은 호출할 WSGI 응용 프로그램 객체입니다.</p>
<div class="versionadded">
<p><span class="versionmodified added">버전 3.2에 추가.</span></p>
</div>
</dd></dl>

<dl class="class">
<dt id="wsgiref.handlers.BaseCGIHandler">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.handlers.</code><code class="sig-name descname">BaseCGIHandler</code><span class="sig-paren">(</span><em class="sig-param">stdin</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em>, <em class="sig-param">environ</em>, <em class="sig-param">multithread=True</em>, <em class="sig-param">multiprocess=False</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseCGIHandler" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#wsgiref.handlers.CGIHandler" title="wsgiref.handlers.CGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHandler</span></code></a>와 유사하지만, <a class="reference internal" href="sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a> 와 <a class="reference internal" href="os.html#module-os" title="os: Miscellaneous operating system interfaces."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a> 모듈을 사용하는 대신, CGI 환경과 I/O 스트림이 명시적으로 지정됩니다. <em>multithread</em> 와 <em>multiprocess</em> 값은 처리기 인스턴스가 실행하는 모든 응용 프로그램에 대한 <code class="docutils literal notranslate"><span class="pre">wsgi.multithread</span></code> 와 <code class="docutils literal notranslate"><span class="pre">wsgi.multiprocess</span></code> 플래그를 설정하는 데 사용됩니다.</p>
<p>이 클래스는 HTTP &quot;오리진 서버&quot; 이외의 소프트웨어에서 사용하기 위한 <a class="reference internal" href="#wsgiref.handlers.SimpleHandler" title="wsgiref.handlers.SimpleHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleHandler</span></code></a>의 서브 클래스입니다. HTTP 상태를 보내기 위해 <code class="docutils literal notranslate"><span class="pre">Status:</span></code> 헤더를 사용하는 게이트웨이 프로토콜 구현(가령 CGI, FastCGI, SCGI 등)을 작성하는 경우 <a class="reference internal" href="#wsgiref.handlers.SimpleHandler" title="wsgiref.handlers.SimpleHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleHandler</span></code></a> 대신 이것을 서브클래싱하고 싶을 겁니다.</p>
</dd></dl>

<dl class="class">
<dt id="wsgiref.handlers.SimpleHandler">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.handlers.</code><code class="sig-name descname">SimpleHandler</code><span class="sig-paren">(</span><em class="sig-param">stdin</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em>, <em class="sig-param">environ</em>, <em class="sig-param">multithread=True</em>, <em class="sig-param">multiprocess=False</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.SimpleHandler" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#wsgiref.handlers.BaseCGIHandler" title="wsgiref.handlers.BaseCGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCGIHandler</span></code></a>와 유사하지만, HTTP 오리진 서버에 사용하도록 설계되었습니다. HTTP 서버 구현을 작성하는 경우 <a class="reference internal" href="#wsgiref.handlers.BaseCGIHandler" title="wsgiref.handlers.BaseCGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCGIHandler</span></code></a> 대신 이것을 서브 클래싱하고 싶을 겁니다.</p>
<p>이 클래스는 <a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a>의 서브 클래스입니다. <a class="reference internal" href="../reference/datamodel.html#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stdin()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stderr()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_cgi_vars()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">_write()</span></code> 및 <code class="xref py py-meth docutils literal notranslate"><span class="pre">_flush()</span></code> 메서드를 재정의하여 명시적으로 환경과 스트림을 생성자를 통해 설정하는 것을 지원합니다. 제공된 환경과 스트림은 <code class="xref py py-attr docutils literal notranslate"><span class="pre">stdin</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">stdout</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">stderr</span></code> 및 <code class="xref py py-attr docutils literal notranslate"><span class="pre">environ</span></code> 어트리뷰트에 저장됩니다.</p>
<p><em>stdout</em>의 <a class="reference internal" href="io.html#io.BufferedIOBase.write" title="io.BufferedIOBase.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> 메서드는 <a class="reference internal" href="io.html#io.BufferedIOBase" title="io.BufferedIOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.BufferedIOBase</span></code></a>처럼 각 덩어리 전체를 기록해야 합니다.</p>
</dd></dl>

<dl class="class">
<dt id="wsgiref.handlers.BaseHandler">
<em class="property">class </em><code class="sig-prename descclassname">wsgiref.handlers.</code><code class="sig-name descname">BaseHandler</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler" title="정의 주소">¶</a></dt>
<dd><p>이것은 WSGI 응용 프로그램을 실행하기 위한 추상 베이스 클래스입니다. 원칙적으로 여러 요청에 대해 재사용할 수 있는 서브 클래스를 만들 수 있지만, 각 인스턴스는 단일 HTTP 요청을 처리합니다.</p>
<p><a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a> 인스턴스에는 외부 사용을 위한 하나의 메서드 만 있습니다:</p>
<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.run" title="정의 주소">¶</a></dt>
<dd><p>지정된 WSGI 응용 프로그램인 <em>app</em>을 실행합니다.</p>
</dd></dl>

<p>다른 모든 <a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a> 메서드는 응용 프로그램을 실행하는 과정에서 이 메서드에 의해 호출되므로, 주로 과정을 사용자 정의하기 위해 존재합니다.</p>
<p>다음 메서드는 서브 클래스에서 반드시 재정의되어야 합니다:</p>
<dl class="method">
<dt id="wsgiref.handlers.BaseHandler._write">
<code class="sig-name descname">_write</code><span class="sig-paren">(</span><em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler._write" title="정의 주소">¶</a></dt>
<dd><p>클라이언트로의 전송을 위해 바이트열 <em>data</em>를 버퍼링합니다. 이 메서드가 실제로 데이터를 전송해도 상관없습니다; <a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a>는 쓰기와 플러시 연산을 분리하여 하부 시스템에 실제로 이러한 구분이 있을 때 효율성을 높입니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler._flush">
<code class="sig-name descname">_flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler._flush" title="정의 주소">¶</a></dt>
<dd><p>버퍼링 된 데이터를 클라이언트로 전송하도록 강제합니다. 이 메서드가 아무 일도 하지 않아도 상관없습니다 (즉, <a class="reference internal" href="#wsgiref.handlers.BaseHandler._write" title="wsgiref.handlers.BaseHandler._write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_write()</span></code></a>가 실제로 데이터를 보낸다면).</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.get_stdin">
<code class="sig-name descname">get_stdin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.get_stdin" title="정의 주소">¶</a></dt>
<dd><p>현재 처리 중인 요청의 <code class="docutils literal notranslate"><span class="pre">wsgi.input</span></code>으로 사용하기에 적합한 입력 스트림 객체를 반환합니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.get_stderr">
<code class="sig-name descname">get_stderr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.get_stderr" title="정의 주소">¶</a></dt>
<dd><p>현재 처리 중인 요청의 <code class="docutils literal notranslate"><span class="pre">wsgi.errors</span></code>로 사용하기에 적합한 출력 스트림 객체를 반환합니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.add_cgi_vars">
<code class="sig-name descname">add_cgi_vars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.add_cgi_vars" title="정의 주소">¶</a></dt>
<dd><p>현재 요청에 대한 CGI 변수를 <code class="xref py py-attr docutils literal notranslate"><span class="pre">environ</span></code> 어트리뷰트에 삽입합니다.</p>
</dd></dl>

<p>재정의하고 싶을 수 있는 다른 메서드와 어트리뷰트는 다음과 같습니다. 그러나, 이 목록은 요약에 지나지 않고, 재정의할 수 있는 모든 메서드가 포함되어 있지 않습니다. 사용자 정의된 <a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a> 서브 클래스를 작성하기 전에 독스트링과 소스 코드를 참조하여 추가 정보를 얻어야 합니다.</p>
<p>WSGI 환경을 사용자 정의하기 위한 어트리뷰트와 메서드:</p>
<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.wsgi_multithread">
<code class="sig-name descname">wsgi_multithread</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.wsgi_multithread" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">wsgi.multithread</span></code> 환경 변수에 사용될 값. <a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a>에서는 기본값이 참이지만, 다른 서브 클래스는 다른 기본값을 가질 수 있습니다 (또는 생성자에 의해 설정될 수 있습니다).</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.wsgi_multiprocess">
<code class="sig-name descname">wsgi_multiprocess</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.wsgi_multiprocess" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">wsgi.multiprocess</span></code> 환경 변수에 사용될 값. <a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a>에서는 기본값이 참이지만, 다른 서브 클래스는 다른 기본값을 가질 수 있습니다 (또는 생성자에 의해 설정될 수 있습니다).</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.wsgi_run_once">
<code class="sig-name descname">wsgi_run_once</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.wsgi_run_once" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">wsgi.run_once</span></code> 환경 변수에 사용될 값. <a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a>에서는 기본값이 거짓이지만, <a class="reference internal" href="#wsgiref.handlers.CGIHandler" title="wsgiref.handlers.CGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHandler</span></code></a>는 기본적으로 참으로 설정합니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.os_environ">
<code class="sig-name descname">os_environ</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.os_environ" title="정의 주소">¶</a></dt>
<dd><p>모든 요청의 WSGI 환경에 포함될 기본 환경 변수. 기본적으로, <a class="reference internal" href="#module-wsgiref.handlers" title="wsgiref.handlers: WSGI server/gateway base classes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.handlers</span></code></a>를 임포트 한 시점의 <code class="docutils literal notranslate"><span class="pre">os.environ</span></code> 사본이지만, 서브 클래스는 클래스나 인스턴스 수준에서 자체적으로 만들 수 있습니다. 기본값이 여러 클래스와 인스턴스 간에 공유되므로, 딕셔너리는 읽기 전용으로 간주해야 합니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.server_software">
<code class="sig-name descname">server_software</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.server_software" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#wsgiref.handlers.BaseHandler.origin_server" title="wsgiref.handlers.BaseHandler.origin_server"><code class="xref py py-attr docutils literal notranslate"><span class="pre">origin_server</span></code></a> 어트리뷰트가 설정된 경우, 이 어트리뷰트의 값은 기본 <code class="docutils literal notranslate"><span class="pre">SERVER_SOFTWARE</span></code> WSGI 환경 변수를 설정하는 데 사용되고, HTTP 응답의 기본 <code class="docutils literal notranslate"><span class="pre">Server:</span></code> 헤더를 설정하는 데도 사용됩니다. HTTP 오리진 서버가 아닌 처리기(가령 <a class="reference internal" href="#wsgiref.handlers.BaseCGIHandler" title="wsgiref.handlers.BaseCGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCGIHandler</span></code></a> 와 <a class="reference internal" href="#wsgiref.handlers.CGIHandler" title="wsgiref.handlers.CGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHandler</span></code></a>)에서는 무시됩니다.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">버전 3.3에서 변경: </span>&quot;Python&quot;이라는 용어는 &quot;CPython&quot;, &quot;Jython&quot; 등과 같은 구현 특정 용어로 대체됩니다.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.get_scheme">
<code class="sig-name descname">get_scheme</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.get_scheme" title="정의 주소">¶</a></dt>
<dd><p>현재의 요청에 사용되고 있는 URL 스킴을 반환합니다. 기본 구현은 <a class="reference internal" href="#module-wsgiref.util" title="wsgiref.util: WSGI environment utilities."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.util</span></code></a>의 <code class="xref py py-func docutils literal notranslate"><span class="pre">guess_scheme()</span></code> 함수를 사용하여, 현재 요청의 <code class="xref py py-attr docutils literal notranslate"><span class="pre">environ</span></code> 변수를 기반으로, 스킴이 &quot;http&quot;와 &quot;https&quot; 중 어느 것인지 추측합니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.setup_environ">
<code class="sig-name descname">setup_environ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.setup_environ" title="정의 주소">¶</a></dt>
<dd><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">environ</span></code> 어트리뷰트를 완전히 채워진 WSGI 환경으로 설정합니다. 기본 구현에서는 위의 모든 메서드와 어트리뷰트에 더해 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.get_stdin" title="wsgiref.handlers.BaseHandler.get_stdin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stdin()</span></code></a>, <a class="reference internal" href="#wsgiref.handlers.BaseHandler.get_stderr" title="wsgiref.handlers.BaseHandler.get_stderr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stderr()</span></code></a> 및 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.add_cgi_vars" title="wsgiref.handlers.BaseHandler.add_cgi_vars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_cgi_vars()</span></code></a> 메서드와 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.wsgi_file_wrapper" title="wsgiref.handlers.BaseHandler.wsgi_file_wrapper"><code class="xref py py-attr docutils literal notranslate"><span class="pre">wsgi_file_wrapper</span></code></a> 어트리뷰트를 모두 사용합니다. <a class="reference internal" href="#wsgiref.handlers.BaseHandler.origin_server" title="wsgiref.handlers.BaseHandler.origin_server"><code class="xref py py-attr docutils literal notranslate"><span class="pre">origin_server</span></code></a> 어트리뷰트가 참이고 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.server_software" title="wsgiref.handlers.BaseHandler.server_software"><code class="xref py py-attr docutils literal notranslate"><span class="pre">server_software</span></code></a> 어트리뷰트가 설정된 경우 <code class="docutils literal notranslate"><span class="pre">SERVER_SOFTWARE</span></code> 키가 없으면 삽입합니다.</p>
</dd></dl>

<p>예외 처리를 사용자 정의하기 위한 메서드와 어트리뷰트:</p>
<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.log_exception">
<code class="sig-name descname">log_exception</code><span class="sig-paren">(</span><em class="sig-param">exc_info</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.log_exception" title="정의 주소">¶</a></dt>
<dd><p><em>exc_info</em> 튜플을 서버 로그에 기록합니다. <em>exc_info</em>는 <code class="docutils literal notranslate"><span class="pre">(type,</span> <span class="pre">value,</span> <span class="pre">traceback)</span></code> 튜플입니다. 기본 구현은 요청의 <code class="docutils literal notranslate"><span class="pre">wsgi.errors</span></code> 스트림에 트레이스백을 쓰고 플러시 합니다. 서브 클래스는 이 메서드를 재정의해서, 형식을 변경하거나 출력의 대상을 바꾸거나, 관리자에게 트레이스백을 메일로 보내거나, 적절한 것으로 생각되는 다른 액션을 수행할 수 있습니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.traceback_limit">
<code class="sig-name descname">traceback_limit</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.traceback_limit" title="정의 주소">¶</a></dt>
<dd><p>기본 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.log_exception" title="wsgiref.handlers.BaseHandler.log_exception"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log_exception()</span></code></a> 메서드에 의해 출력되는 트레이스백에 포함하는 프레임의 최대 수. <code class="docutils literal notranslate"><span class="pre">None</span></code>이면, 모든 프레임이 포함됩니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.error_output">
<code class="sig-name descname">error_output</code><span class="sig-paren">(</span><em class="sig-param">environ</em>, <em class="sig-param">start_response</em><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.error_output" title="정의 주소">¶</a></dt>
<dd><p>이 메서드는 사용자를 위한 에러 페이지를 생성하는 WSGI 응용 프로그램입니다. 헤더가 클라이언트에 전송되기 전에 오류가 발생할 때만 호출됩니다.</p>
<p>이 메서드는 <code class="docutils literal notranslate"><span class="pre">sys.exc_info()</span></code>를 사용하여 현재 에러 정보에 액세스할 수 있으며, 호출할 때 해당 정보를 <em>start_response</em>로 전달해야 합니다 (<span class="target" id="index-46"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>의 &quot;에러 처리&quot; 절에서 설명하듯이).</p>
<p>기본 구현은 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.error_status" title="wsgiref.handlers.BaseHandler.error_status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">error_status</span></code></a>, <a class="reference internal" href="#wsgiref.handlers.BaseHandler.error_headers" title="wsgiref.handlers.BaseHandler.error_headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">error_headers</span></code></a> 및 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.error_body" title="wsgiref.handlers.BaseHandler.error_body"><code class="xref py py-attr docutils literal notranslate"><span class="pre">error_body</span></code></a> 어트리뷰트를 사용하여 출력 페이지를 생성합니다. 서브 클래스는 이것을 재정의하여, 더욱 동적인 에러 출력을 생성할 수 있습니다.</p>
<p>그러나, 보안 관점에서 오래된 사용자에게는 진단을 내보내지 않는 것이 좋습니다; 이상적으로, 진단 출력을 활성화하기 위해서는 특별한 것을 해야 합니다. 이것이 기본 구현이 아무것도 포함하지 않는 이유입니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.error_status">
<code class="sig-name descname">error_status</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.error_status" title="정의 주소">¶</a></dt>
<dd><p>에러 응답에 사용되는 HTTP 상태. <span class="target" id="index-47"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에 정의된 상태 문자열이어야 합니다; 기본값은 500 코드와 메시지입니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.error_headers">
<code class="sig-name descname">error_headers</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.error_headers" title="정의 주소">¶</a></dt>
<dd><p>에러 응답에 사용되는 HTTP 헤더. 이것은 <span class="target" id="index-48"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>에서 설명하는 WSGI 응답 헤더 (<code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">value)</span></code> 튜플)의 리스트여야 합니다. 기본 리스트는 단지 콘텐츠 형식을 <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>으로 설정합니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.error_body">
<code class="sig-name descname">error_body</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.error_body" title="정의 주소">¶</a></dt>
<dd><p>에러 응답 바디. 이것은 HTTP 응답 바디 바이트열이어야 합니다. 기본적으로 &quot;A server error occurred.  Please contact the administrator.&quot; 라는 단순 텍스트입니다.</p>
</dd></dl>

<p><span class="target" id="index-49"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>의 &quot;선택적 플랫폼 특정 파일 처리&quot; 기능을 위한 메서드와 어트리뷰트:</p>
<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.wsgi_file_wrapper">
<code class="sig-name descname">wsgi_file_wrapper</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.wsgi_file_wrapper" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> 팩토리나 <code class="docutils literal notranslate"><span class="pre">None</span></code>. 이 어트리뷰트의 기본값은 <a class="reference internal" href="#wsgiref.util.FileWrapper" title="wsgiref.util.FileWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">wsgiref.util.FileWrapper</span></code></a> 클래스입니다.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiref.handlers.BaseHandler.sendfile">
<code class="sig-name descname">sendfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.BaseHandler.sendfile" title="정의 주소">¶</a></dt>
<dd><p>플랫폼 특정 파일 전송을 구현하기 위해 재정의합니다. 이 메서드는 응용 프로그램의 반환 값이 <a class="reference internal" href="#wsgiref.handlers.BaseHandler.wsgi_file_wrapper" title="wsgiref.handlers.BaseHandler.wsgi_file_wrapper"><code class="xref py py-attr docutils literal notranslate"><span class="pre">wsgi_file_wrapper</span></code></a> 어트리뷰트로 지정된 클래스의 인스턴스일 때만 호출됩니다. 파일을 성공적으로 전송할 수 있었으면 참값을 반환해야 합니다. 그러면 기본 전송 코드가 실행되지 않습니다. 이 메서드의 기본 구현은 단지 거짓 값을 반환합니다.</p>
</dd></dl>

<p>기타 메서드와 어트리뷰트:</p>
<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.origin_server">
<code class="sig-name descname">origin_server</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.origin_server" title="정의 주소">¶</a></dt>
<dd><p>특별한 <code class="docutils literal notranslate"><span class="pre">Status:</span></code> 헤더를 통해 HTTP 상태를 원하는 CGI와 같은 게이트웨이 프로토콜을 통하는 것이 아니라, 처리기의 <a class="reference internal" href="#wsgiref.handlers.BaseHandler._write" title="wsgiref.handlers.BaseHandler._write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_write()</span></code></a>와 <a class="reference internal" href="#wsgiref.handlers.BaseHandler._flush" title="wsgiref.handlers.BaseHandler._flush"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_flush()</span></code></a>가 클라이언트와 직접 통신하는 데 사용되는 경우 이 어트리뷰트를 참으로 설정해야 합니다.</p>
<p><a class="reference internal" href="#wsgiref.handlers.BaseHandler" title="wsgiref.handlers.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a>에서는 이 어트리뷰트의 기본값이 참이지만, <a class="reference internal" href="#wsgiref.handlers.BaseCGIHandler" title="wsgiref.handlers.BaseCGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCGIHandler</span></code></a>와 <a class="reference internal" href="#wsgiref.handlers.CGIHandler" title="wsgiref.handlers.CGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHandler</span></code></a>에서는 거짓입니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiref.handlers.BaseHandler.http_version">
<code class="sig-name descname">http_version</code><a class="headerlink" href="#wsgiref.handlers.BaseHandler.http_version" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#wsgiref.handlers.BaseHandler.origin_server" title="wsgiref.handlers.BaseHandler.origin_server"><code class="xref py py-attr docutils literal notranslate"><span class="pre">origin_server</span></code></a>가 참이면, 이 문자열 어트리뷰트를 사용하여 클라이언트로 보내는 응답 집합의 HTTP 버전을 설정합니다. 기본값은 <code class="docutils literal notranslate"><span class="pre">&quot;1.0&quot;</span></code>입니다.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="wsgiref.handlers.read_environ">
<code class="sig-prename descclassname">wsgiref.handlers.</code><code class="sig-name descname">read_environ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wsgiref.handlers.read_environ" title="정의 주소">¶</a></dt>
<dd><p>CGI 변수를 <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>에서 <span class="target" id="index-50"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a> &quot;유니코드에 들어있는 바이트열&quot; 문자열로 변환하여, 새 딕셔너리를 반환합니다. 이 함수는 <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>을 직접 사용하는 대신 <a class="reference internal" href="#wsgiref.handlers.CGIHandler" title="wsgiref.handlers.CGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHandler</span></code></a>와 <a class="reference internal" href="#wsgiref.handlers.IISCGIHandler" title="wsgiref.handlers.IISCGIHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">IISCGIHandler</span></code></a>에서 사용됩니다. <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>은 파이썬 3을 사용하는 모든 플랫폼과 웹 서버에서 WSGI를 준수한다는 보장이 없습니다 -- 구체적으로, OS의 실제 환경이 유니코드인 곳(가령 윈도우)이나 환경은 바이트열이지만 파이썬이 디코딩하기 위해 사용하는 시스템 인코딩이 ISO-8859-1 이외의 것인 곳(예를 들어 UTF-8을 사용하는 유닉스 시스템).</p>
<div class="admonition-flowdas admonition">
<p class="admonition-title">flowdas</p>
<p>&quot;유니코드에 들어있는 바이트열&quot; 이란, 파이썬 3의 <code class="docutils literal notranslate"><span class="pre">str</span></code> 형으로 표현되지만, 실제 들어있는 값은
Latin-1 인코딩으로 인코드할 때 원래의 바이트열을 손실 없이 얻을 수 있는 바이트열을 내용으로 가진
문자열을 뜻합니다.</p>
</div>
<p>여러분 자신의 CGI 기반 처리기를 구현한다면, <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>에서 직접 값을 복사하는 대신 이 루틴을 사용하는 것이 좋습니다.</p>
<div class="versionadded">
<p><span class="versionmodified added">버전 3.2에 추가.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="examples">
<h2>예제<a class="headerlink" href="#examples" title="제목 주소">¶</a></h2>
<p>이것은 &quot;Hello World&quot; WSGI 응용 프로그램입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wsgiref.simple_server</span> <span class="k">import</span> <span class="n">make_server</span>

<span class="c1"># 모든 WSGI 응용 프로그램은 응용 프로그램 객체를 가져야 합니다 - 두 개의 인자를 받아들이는</span>
<span class="c1"># 콜러블. 이를 위해, 함수를 사용하려고 합니다 (함수로 제한되지는 않습니다, 예를 들어 클래스를</span>
<span class="c1"># 사용할 수 있습니다). 함수에 전달되는 첫 번째 인자는 CGI 스타일 환경 변수를 포함하는</span>
<span class="c1"># 딕셔너리이고, 두 번째 변수는 콜러블 객체입니다.</span>
<span class="k">def</span> <span class="nf">hello_world_app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;200 OK&#39;</span>  <span class="c1"># HTTP Status</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Content-type&#39;</span><span class="p">,</span> <span class="s1">&#39;text/plain; charset=utf-8&#39;</span><span class="p">)]</span>  <span class="c1"># HTTP Headers</span>
    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

    <span class="c1"># 반환된 객체가 인쇄될 것입니다.</span>
    <span class="k">return</span> <span class="p">[</span><span class="sa">b</span><span class="s2">&quot;Hello World&quot;</span><span class="p">]</span>

<span class="k">with</span> <span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">,</span> <span class="n">hello_world_app</span><span class="p">)</span> <span class="k">as</span> <span class="n">httpd</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Serving on port 8000...&quot;</span><span class="p">)</span>

    <span class="c1"># 프로세스를 죽일 때까지 서빙합니다</span>
    <span class="n">httpd</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div>
</div>
<p>현재 디렉터리를 제공하는 WSGI 응용 프로그램의 예, 명령 줄에서 선택적 디렉터리와 포트 번호(기본값: 8000)를 받아들입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Small wsgiref based web server. Takes a path to serve from and an</span>
<span class="sd">optional port number (defaults to 8000), then tries to serve files.</span>
<span class="sd">Mime types are guessed from the file names, 404 errors are raised</span>
<span class="sd">if the file is not found. Used for the make serve target in Doc.</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="kn">from</span> <span class="nn">wsgiref</span> <span class="k">import</span> <span class="n">simple_server</span><span class="p">,</span> <span class="n">util</span>

<span class="k">def</span> <span class="nf">app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">respond</span><span class="p">):</span>

    <span class="n">fn</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;PATH_INFO&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
    <span class="k">if</span> <span class="s1">&#39;.&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="s1">&#39;index.html&#39;</span><span class="p">)</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">mimetypes</span><span class="o">.</span><span class="n">guess_type</span><span class="p">(</span><span class="n">fn</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
        <span class="n">respond</span><span class="p">(</span><span class="s1">&#39;200 OK&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">)])</span>
        <span class="k">return</span> <span class="n">util</span><span class="o">.</span><span class="n">FileWrapper</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">respond</span><span class="p">(</span><span class="s1">&#39;404 Not Found&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">)])</span>
        <span class="k">return</span> <span class="p">[</span><span class="sa">b</span><span class="s1">&#39;not found&#39;</span><span class="p">]</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
    <span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="mi">8000</span>
    <span class="n">httpd</span> <span class="o">=</span> <span class="n">simple_server</span><span class="o">.</span><span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Serving </span><span class="si">{}</span><span class="s2"> on port </span><span class="si">{}</span><span class="s2">, control-C to stop&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">httpd</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Shutting down.&quot;</span><span class="p">)</span>
        <span class="n">httpd</span><span class="o">.</span><span class="n">server_close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">목차</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref</span></code> --- WSGI 유틸리티와 참조 구현</a><ul>
<li><a class="reference internal" href="#module-wsgiref.util"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.util</span></code> -- WSGI 환경 유틸리티</a></li>
<li><a class="reference internal" href="#module-wsgiref.headers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.headers</span></code> -- WSGI 응답 헤더 도구</a></li>
<li><a class="reference internal" href="#module-wsgiref.simple_server"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.simple_server</span></code> -- 간단한 WSGI HTTP 서버</a></li>
<li><a class="reference internal" href="#module-wsgiref.validate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.validate</span></code> --- WSGI 적합성 검사기</a></li>
<li><a class="reference internal" href="#module-wsgiref.handlers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.handlers</span></code> -- 서버/게이트웨이 베이스 클래스</a></li>
<li><a class="reference internal" href="#examples">예제</a></li>
</ul>
</li>
</ul>

  <h4>이전 항목</h4>
  <p class="topless"><a href="cgitb.html"
                        title="이전 장"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cgitb</span></code> --- CGI 스크립트를 위한 트레이스백 관리자</a></p>
  <h4>다음 항목</h4>
  <p class="topless"><a href="urllib.html"
                        title="다음 장"><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib</span></code> --- URL 처리 모듈</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>탐색</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="전체 색인"
             >색인</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 모듈 목록"
             >모듈</a> |</li>
        <li class="right" >
          <a href="urllib.html" title="urllib --- URL 처리 모듈"
             >다음</a> |</li>
        <li class="right" >
          <a href="cgitb.html" title="cgitb --- CGI 스크립트를 위한 트레이스백 관리자"
             >이전</a> |</li>

    <li><img src="../_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <a href="../index.html">설명서 </a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >파이썬 표준 라이브러리</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" >인터넷 프로토콜과 지원</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="빠른 검색" type="text" name="q" />
          <input type="submit" value="이동" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">저작권</a> 2001-2019, Python Software Foundation.
    <br />
    한국어 번역 저작권 &copy; 2017-2019, Flowdas &amp; 역자. All rights reserved.
    </div>

  </body>
</html>