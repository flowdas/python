
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>optparse --- 명령 줄 옵션용 구문 분석기 &#8212; 파이썬 설명서 주석판</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="파이썬 설명서 주석판에서 찾기"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="이 문서 정보" href="../about.html" />
    <link rel="index" title="색인" href="../genindex.html" />
    <link rel="search" title="검색" href="../search.html" />
    <link rel="copyright" title="저작권" href="../copyright.html" />
    <link rel="next" title="imp --- Access the import internals" href="imp.html" />
    <link rel="prev" title="대체된 모듈" href="superseded.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="https://python.flowdas.com/library/optparse.html" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112027364-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-112027364-1');
    </script>
    <style>
      div.admonition-flowdas {
        border-radius: 3px;
        background-color: #ffc;
        border: 1px solid #ff6;
      }
    </style>

    
      
      <script type="text/javascript" src="../_static/switchers.js"></script>
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>탐색</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="전체 색인"
             accesskey="I">색인</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 모듈 목록"
             >모듈</a> |</li>
        <li class="right" >
          <a href="imp.html" title="imp --- Access the import internals"
             accesskey="N">다음</a> |</li>
        <li class="right" >
          <a href="superseded.html" title="대체된 모듈"
             accesskey="P">이전</a> |</li>

    <li><img src="../_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <a href="../index.html">설명서 </a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >파이썬 표준 라이브러리</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="superseded.html" accesskey="U">대체된 모듈</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="빠른 검색" type="text" name="q" />
          <input type="submit" value="이동" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-optparse">
<span id="optparse-parser-for-command-line-options"></span><h1><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> --- 명령 줄 옵션용 구문 분석기<a class="headerlink" href="#module-optparse" title="제목 주소">¶</a></h1>
<p><strong>소스 코드:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.9/Lib/optparse.py">Lib/optparse.py</a></p>
<div class="deprecated">
<p><span class="versionmodified deprecated">버전 3.2부터 폐지: </span><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> 모듈은 폐지되었으며 더는 개발되지 않습니다; 개발은 <a class="reference internal" href="argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a> 모듈로 계속될 것입니다.</p>
</div>
<hr class="docutils" />
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이전 <a class="reference internal" href="getopt.html#module-getopt" title="getopt: Portable parser for command line options; support both short and long option names."><code class="xref py py-mod docutils literal notranslate"><span class="pre">getopt</span></code></a> 모듈보다 명령 줄 옵션을 구문 분석하기 위한 더 편리하고 유연하며 강력한 라이브러리입니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 더 선언적인 스타일의 명령 줄 구문 분석을 사용합니다: <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a>의 인스턴스를 만들고, 옵션으로 채우고, 명령 줄을 구문 분석합니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>를 사용하면 사용자가 전통적인 GNU/POSIX 문법으로 옵션을 지정할 수 있으며, 추가로 사용법과 도움말 메시지를 생성할 수 있습니다.</p>
<p>다음은 간단한 스크립트에서 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>를 사용하는 예입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">optparse</span> <span class="k">import</span> <span class="n">OptionParser</span>
<span class="o">...</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">()</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--file&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filename&quot;</span><span class="p">,</span>
                  <span class="n">help</span><span class="o">=</span><span class="s2">&quot;write report to FILE&quot;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;FILE&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--quiet&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">help</span><span class="o">=</span><span class="s2">&quot;don&#39;t print status messages to stdout&quot;</span><span class="p">)</span>

<span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<p>이 몇 줄의 코드로, 스크립트 사용자는 이제 명령 줄에서 &quot;일반적인 작업&quot;을 수행 할 수 있습니다, 예를 들면:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">yourscript</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">file</span><span class="o">=</span><span class="n">outfile</span> <span class="o">-</span><span class="n">q</span>
</pre></div>
</div>
<p>명령 줄을 구문 분석할 때, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 사용자가 제공한 명령 줄 값을 기반으로 <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>에서 반환한 <code class="docutils literal notranslate"><span class="pre">options</span></code> 객체의 어트리뷰트를 설정합니다. 이 명령 줄 구문 분석에서 <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>가 반환되면, <code class="docutils literal notranslate"><span class="pre">options.filename</span></code>은 <code class="docutils literal notranslate"><span class="pre">&quot;outfile&quot;</span></code>이 되고 <code class="docutils literal notranslate"><span class="pre">options.verbose</span></code>는 <code class="docutils literal notranslate"><span class="pre">False</span></code>가 됩니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 긴 옵션과 짧은 옵션을 모두 지원하고, 짧은 옵션을 함께 병합하도록 하며, 다양한 방법으로 옵션을 인자와 연관시킬 수 있습니다. 따라서 다음 명령 줄은 모두 위의 예와 동등합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">yourscript</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">f</span> <span class="n">outfile</span> <span class="o">--</span><span class="n">quiet</span>
<span class="o">&lt;</span><span class="n">yourscript</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">quiet</span> <span class="o">--</span><span class="n">file</span> <span class="n">outfile</span>
<span class="o">&lt;</span><span class="n">yourscript</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">q</span> <span class="o">-</span><span class="n">foutfile</span>
<span class="o">&lt;</span><span class="n">yourscript</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">qfoutfile</span>
</pre></div>
</div>
<p>또한, 사용자는 다음 중 하나를 실행할 수 있습니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">yourscript</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">h</span>
<span class="o">&lt;</span><span class="n">yourscript</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<p>그러면 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 스크립트 옵션에 대한 간략한 요약을 인쇄합니다:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: &lt;yourscript&gt; [options]

Options:
  -h, --help            show this help message and exit
  -f FILE, --file=FILE  write report to FILE
  -q, --quiet           don&#39;t print status messages to stdout
</pre></div>
</div>
<p>여기서 <em>yourscript</em>의 값은 (일반적으로 <code class="docutils literal notranslate"><span class="pre">sys.argv[0]</span></code>에서) 실행 시간에 결정됩니다.</p>
<div class="section" id="background">
<span id="optparse-background"></span><h2>배경<a class="headerlink" href="#background" title="제목 주소">¶</a></h2>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 간단하고 전통적인 명령 줄 인터페이스를 갖는 프로그램을 만들 수 있도록 명시적으로 설계되었습니다. 이를 위해, 유닉스에서 전통적으로 사용되는 가장 일반적인 명령 줄 문법과 의미 체계만 지원합니다. 이러한 규칙에 익숙하지 않으면, 이 섹션을 읽고 숙지하십시오.</p>
<div class="section" id="terminology">
<span id="optparse-terminology"></span><h3>용어<a class="headerlink" href="#terminology" title="제목 주소">¶</a></h3>
<dl>
<dt>인자(argument)</dt><dd><p>명령 줄에 입력하고, 셸에서 <code class="docutils literal notranslate"><span class="pre">execl()</span></code>이나 <code class="docutils literal notranslate"><span class="pre">execv()</span></code>로 전달한 문자열. 파이썬에서, 인자는 <code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code>의 요소입니다 (<code class="docutils literal notranslate"><span class="pre">sys.argv[0]</span></code>은 실행 중인 프로그램의 이름입니다). 유닉스 셸은 &quot;워드(word)&quot;라는 용어도 사용합니다.</p>
<p>때때로 <code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code> 이외의 인자 리스트로 대체하는 것이 바람직해서, &quot;인자&quot;를 &quot;<code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code>이나 <code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code>의 대체로 제공된 다른 리스트의 요소&quot;로 읽어야 합니다.</p>
</dd>
<dt>옵션(option)</dt><dd><p>프로그램 실행을 안내하거나 사용자 정의하기 위해 추가 정보를 제공하는 데 사용되는 인자. 옵션에 대한 다양한 문법이 있습니다; 전통적인 유닉스 문법은 하이픈 (&quot;-&quot;) 뒤에 단일 문자가 옵니다, 예를 들어 <code class="docutils literal notranslate"><span class="pre">-x</span></code>나 <code class="docutils literal notranslate"><span class="pre">-F</span></code>. 또한, 전통적인 유닉스 문법은 여러 옵션을 단일 인자로 병합할 수 있도록 합니다, 예를 들어 <code class="docutils literal notranslate"><span class="pre">-x</span> <span class="pre">-F</span></code>는 <code class="docutils literal notranslate"><span class="pre">-xF</span></code>와 동등합니다. GNU 프로젝트는 하이픈으로 구분된 일련의 단어가 뒤따르는 <code class="docutils literal notranslate"><span class="pre">--</span></code>를 도입했습니다, 예를 들어 <code class="docutils literal notranslate"><span class="pre">--file</span></code>이나 <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code>. 이들이 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에서 제공하는 유일한 두 가지 옵션 문법입니다.</p>
<p>세상에 등장했던 다른 옵션 문법은 다음과 같습니다:</p>
<ul class="simple">
<li><p>몇 개의 문자가 뒤따르는 하이픈, 예를 들어 <code class="docutils literal notranslate"><span class="pre">-pf</span></code> (이것은 하나의 인자로 병합된 여러 옵션과 같은 것이 <em>아닙니다</em>)</p></li>
<li><p>전체 단어가 뒤따르는 하이픈, 예를 들어 <code class="docutils literal notranslate"><span class="pre">-file</span></code> (기술적으로 이전 문법과 동등하지만, 일반적으로 같은 프로그램에서 등장하지 않습니다)</p></li>
<li><p>단일 문자나 몇 개의 문자 또는 단어가 뒤따르는 더하기 기호, 예를 들어 <code class="docutils literal notranslate"><span class="pre">+f</span></code>, <code class="docutils literal notranslate"><span class="pre">+rgb</span></code></p></li>
<li><p>단일 문자나 몇 개의 문자 또는 단어가 뒤따르는 슬래시, 예를 들어 <code class="docutils literal notranslate"><span class="pre">/f</span></code>, <code class="docutils literal notranslate"><span class="pre">/file</span></code></p></li>
</ul>
<p>이러한 옵션 문법들은 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에서 지원되지 않으며, 앞으로도 지원되지 않을 것입니다. 이것은 의도적입니다: 처음 세 가지는 모든 환경에서 표준이 아니며, 마지막은 VMS, MS-DOS 및/또는 윈도우만 대상으로 하는 경우에만 의미가 있습니다.</p>
</dd>
<dt>옵션 인자(option argument)</dt><dd><p>옵션 뒤에 오는 인자는 해당 옵션과 밀접하게 연관되어 있으며, 해당 옵션이 있으면 인자 목록에서 사용됩니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>를 사용하면, 옵션 인자가 해당 옵션과 별도의 인자로 있을 수 있습니다:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-f foo
--file foo
</pre></div>
</div>
<p>또는 같은 인자에 포함될 수 있습니다:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-ffoo
--file=foo
</pre></div>
</div>
<p>일반적으로, 주어진 옵션은 인자를 취하거나 취하지 않습니다. 많은 사람이 &quot;선택적 옵션 인자&quot; 기능을 원합니다. 즉, 일부 옵션은 있다면 인자를 취하고 그렇지 않으면 취하지 않습니다. 이것은 구문 분석을 모호하게 만들기 때문에 다소 논란의 여지가 있습니다: <code class="docutils literal notranslate"><span class="pre">-a</span></code>가 선택적 인자를 취하고 <code class="docutils literal notranslate"><span class="pre">-b</span></code>가 완전히 다른 옵션이면 <code class="docutils literal notranslate"><span class="pre">-ab</span></code>를 어떻게 해석합니까? 이러한 모호성 때문에, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이 기능을 지원하지 않습니다.</p>
</dd>
<dt>위치 인자(positional argument)</dt><dd><p>옵션이 구문 분석된 후, 즉 옵션과 해당 인자가 구문 분석되고 인자 목록에서 제거된 후 인자 목록에 남은 것.</p>
</dd>
<dt>필수 옵션(required option)</dt><dd><p>명령 줄에서 제공해야 하는 옵션; &quot;필수 옵션&quot;이라는 문구는 영어에서 모순된다는 점에 유의하십시오. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 필수 옵션을 구현하는 것을 방해하지 않지만, 그다지 도움을 주지도 않습니다.</p>
</dd>
</dl>
<p>예를 들어, 다음 가상 명령 줄을 고려하십시오:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">prog</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">report</span> <span class="n">report</span><span class="o">.</span><span class="n">txt</span> <span class="n">foo</span> <span class="n">bar</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-v</span></code>와 <code class="docutils literal notranslate"><span class="pre">--report</span></code>는 둘 다 옵션입니다. <code class="docutils literal notranslate"><span class="pre">--report</span></code>가 하나의 인자를 취한다고 가정하면, <code class="docutils literal notranslate"><span class="pre">report.txt</span></code>는 옵션 인자입니다. <code class="docutils literal notranslate"><span class="pre">foo</span></code>와 <code class="docutils literal notranslate"><span class="pre">bar</span></code>는 위치 인자입니다.</p>
</div>
<div class="section" id="what-are-options-for">
<span id="optparse-what-options-for"></span><h3>옵션은 무엇을 위한 것입니까?<a class="headerlink" href="#what-are-options-for" title="제목 주소">¶</a></h3>
<p>옵션은 프로그램 실행을 조정하거나 사용자 정의하기 위한 추가 정보를 제공하는 데 사용됩니다. 명확하지 않은 경우, 옵션은 일반적으로 <em>선택적</em>입니다. 프로그램은 어떤 옵션도 없이 잘 실행될 수 있어야 합니다. (유닉스나 GNU 도구 집합에서 임의의 프로그램을 선택하십시오. 옵션 없이도 실행될 수 있으며 여전히 의미가 있습니까? 주요 예외는 <code class="docutils literal notranslate"><span class="pre">find</span></code>, <code class="docutils literal notranslate"><span class="pre">tar</span></code> 및 <code class="docutils literal notranslate"><span class="pre">dd</span></code>입니다 --- 모두 비표준 문법과 혼란스러운 인터페이스 때문에 올바로 비판을 받은 돌연변이 괴짜입니다.)</p>
<p>많은 사람이 프로그램에 &quot;필수 옵션&quot;이 있기를 원합니다. 생각해보십시오. 필수라면, 그것은 <em>선택적(optional)이 아닙니다</em>! 당신의 프로그램이 성공적으로 실행하기 위해 절대적으로 필요한 정보가 있다면, 그것이 바로 위치 인자의 목적입니다.</p>
<p>좋은 명령 줄 인터페이스 설계의 예로, 파일 복사를 위한 겸손한 <code class="docutils literal notranslate"><span class="pre">cp</span></code> 유틸리티를 고려하십시오. 대상과 하나 이상의 소스를 제공하지 않고 파일을 복사하는 것은 의미가 없습니다. 따라서, 인자 없이 실행하면 <code class="docutils literal notranslate"><span class="pre">cp</span></code>가 실패합니다. 그러나 옵션이 전혀 필수로 요구하지 않는 유연하고 유용한 문법을 갖습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">SOURCE</span> <span class="n">DEST</span>
<span class="n">cp</span> <span class="n">SOURCE</span> <span class="o">...</span> <span class="n">DEST</span><span class="o">-</span><span class="n">DIR</span>
</pre></div>
</div>
<p>그것만으로도 꽤 멀리 갈 수 있습니다. 대부분의 <code class="docutils literal notranslate"><span class="pre">cp</span></code> 구현은 파일이 복사되는 방식을 정확하게 조정할 수 있는 여러 옵션을 제공합니다: 모드 및 수정 시간을 보존하고, 심볼릭 링크를 따르지 않고, 기존 파일을 건드리기 전에 물을 수 있습니다. 하지만 이 중 어느 것도 한 파일을 다른 파일로 복사하거나 여러 파일을 다른 디렉터리로 복사하는 <code class="docutils literal notranslate"><span class="pre">cp</span></code>의 핵심 임무를 방해하지 않습니다.</p>
</div>
<div class="section" id="what-are-positional-arguments-for">
<span id="optparse-what-positional-arguments-for"></span><h3>위치 인자는 무엇을 위한 것입니까?<a class="headerlink" href="#what-are-positional-arguments-for" title="제목 주소">¶</a></h3>
<p>위치 인자는 프로그램이 실행하기 위해 절대적으로 필요로하는 정보를 위한 것입니다.</p>
<p>좋은 사용자 인터페이스에는 가능한 한 적은 절대 요구 사항이 있어야 합니다. 프로그램을 성공적으로 실행하기 위해 17개의 개별 정보를 요구한다면, 사용자로부터 해당 정보를 <em>어떻게</em> 얻는지는 중요하지 않습니다---대부분의 사람은 프로그램을 성공적으로 실행하기 전에 포기하고 떠납니다. 이것은 사용자 인터페이스가 명령 줄이든, 구성 파일이든, GUI이든 상관없이 적용됩니다: 사용자에게 그렇게 많은 요구를 하면, 대부분은 단순히 포기할 것입니다.</p>
<p>요컨대, 사용자가 절대적으로 제공해야 하는 정보의 양을 최소화하십시오---가능할 때마다 합리적인 기본값을 사용하십시오. 물론, 프로그램을 합리적으로 유연하게 만들고 싶기도 합니다. 그것이 바로 옵션이 있는 이유입니다. 다시 말하지만, 구성 파일의 항목인지, GUI의 &quot;기본 설정&quot; 대화 상자에 있는 위젯인지, 명령 줄 옵션인지는 중요하지 않습니다---구현하는 옵션이 많을수록, 프로그램이 더 유연해지고, 구현은 더 복잡해집니다. 물론 유연성이 너무 많으면 단점도 있습니다; 너무 많은 옵션은 사용자를 압도하고 코드 유지 관리를 훨씬 더 어렵게 만들 수 있습니다.</p>
</div>
</div>
<div class="section" id="tutorial">
<span id="optparse-tutorial"></span><h2>자습서<a class="headerlink" href="#tutorial" title="제목 주소">¶</a></h2>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 매우 유연하고 강력하지만, 대부분의 경우 사용하기도 간단합니다. 이 섹션에서는 모든 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> 기반 프로그램에 공통적인 코드 패턴을 다룹니다.</p>
<p>먼저, OptionParser 클래스를 임포트 해야 합니다; 그런 다음 메인 프로그램의 초기에, OptionParser 인스턴스를 만듭니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">optparse</span> <span class="k">import</span> <span class="n">OptionParser</span>
<span class="o">...</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">()</span>
</pre></div>
</div>
<p>그런 다음 옵션 정의를 시작할 수 있습니다. 기본 문법은 다음과 같습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="n">opt_str</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
                  <span class="n">attr</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>각 옵션에는 <code class="docutils literal notranslate"><span class="pre">-f</span></code>나 <code class="docutils literal notranslate"><span class="pre">--file</span></code>과 같은 하나 이상의 옵션 문자열이 있고, 명령 줄에서 해당 옵션을 발견했을 때 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 기대하는 것과 수행 할 작업을 알려주는 여러 옵션 어트리뷰트가 있습니다.</p>
<p>일반적으로, 각 옵션에는 하나의 짧은 옵션 문자열과 하나의 긴 옵션 문자열이 있습니다, 예를 들어:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--file&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>전체적으로 적어도 하나의 옵션 문자열이 있는 한 원하는 만큼 짧은 옵션 문자열과 긴 옵션 문자열을 (없는 것도 포함합니다) 자유롭게 정의 할 수 있습니다.</p>
<p><a class="reference internal" href="#optparse.OptionParser.add_option" title="optparse.OptionParser.add_option"><code class="xref py py-meth docutils literal notranslate"><span class="pre">OptionParser.add_option()</span></code></a>에 전달된 옵션 문자열은 해당 호출에 의해 정의된 옵션에 대한 레이블입니다. 간결함을 위해, 명령 줄에서 <em>옵션을 만난다</em>를 자주 언급할 것입니다; 실제로는, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 <em>옵션 문자열</em>을 만나고 이것으로 옵션을 찾습니다.</p>
<p>일단 모든 옵션이 정의되면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 프로그램의 명령 줄을 구문 분석하도록 지시합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<p>(원한다면, 사용자 정의 인자 리스트를 <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>에 전달할 수 있지만, 거의 필요하지 않습니다: 기본적으로 <code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code>을 사용합니다.)</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>는 두 가지 값을 반환합니다:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code>, 모든 옵션에 대한 값을 포함하는 객체---예를 들어 <code class="docutils literal notranslate"><span class="pre">--file</span></code>이 단일 문자열 인자를 취하면, <code class="docutils literal notranslate"><span class="pre">options.file</span></code>은 사용자가 제공한 파일명이거나, 사용자가 해당 옵션을 제공하지 않으면 <code class="docutils literal notranslate"><span class="pre">None</span></code>입니다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code>, 옵션 구문 분석 후 남은 위치 인자 리스트</p></li>
</ul>
<p>이 자습서 섹션에서는 가장 중요한 4가지 옵션 어트리뷰트만 다룹니다: <a class="reference internal" href="#optparse.Option.action" title="optparse.Option.action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action</span></code></a>, <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>, <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a> (destination) 및 <a class="reference internal" href="#optparse.Option.help" title="optparse.Option.help"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help</span></code></a>만 다룹니다. 이 중, <a class="reference internal" href="#optparse.Option.action" title="optparse.Option.action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action</span></code></a>이 가장 기본입니다.</p>
<div class="section" id="understanding-option-actions">
<span id="optparse-understanding-option-actions"></span><h3>옵션 액션의 이해<a class="headerlink" href="#understanding-option-actions" title="제목 주소">¶</a></h3>
<p>액션은 명령 줄에서 옵션을 발견할 때 수행 할 작업을 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에 알려줍니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에 하드 코딩된 고정된 액션 집합이 있습니다; 새로운 액션 추가는 섹션 <a class="reference internal" href="#optparse-extending-optparse"><span class="std std-ref">optparse 확장하기</span></a>에서 다루는 고급 주제입니다. 대부분의 액션은 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에게 어떤 변수에 값을 저장하도록 지시합니다---예를 들어, 명령 줄에서 문자열을 취해서 <code class="docutils literal notranslate"><span class="pre">options</span></code>의 어트리뷰트에 저장합니다.</p>
<p>옵션 액션을 지정하지 않으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 기본값은 <code class="docutils literal notranslate"><span class="pre">store</span></code>입니다.</p>
</div>
<div class="section" id="the-store-action">
<span id="optparse-store-action"></span><h3>store 액션<a class="headerlink" href="#the-store-action" title="제목 주소">¶</a></h3>
<p>가장 일반적인 옵션 액션은 <code class="docutils literal notranslate"><span class="pre">store</span></code>로, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에게 다음 인자(또는 현재 인자의 나머지)를 취하고, 올바른 형인지 확인한 다음, 선택한 대상에 저장하도록 지시합니다.</p>
<p>예를 들면:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--file&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>이제 가짜 명령 줄을 만들고 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에게 구문 분석을 요청합시다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;foo.txt&quot;</span><span class="p">]</span>
<span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 옵션 문자열 <code class="docutils literal notranslate"><span class="pre">-f</span></code>를 보면, 다음 인자인 <code class="docutils literal notranslate"><span class="pre">foo.txt</span></code>를 소비하고, <code class="docutils literal notranslate"><span class="pre">options.filename</span></code>에 저장합니다. 따라서, 이 <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code> 호출 후, <code class="docutils literal notranslate"><span class="pre">options.filename</span></code>은 <code class="docutils literal notranslate"><span class="pre">&quot;foo.txt&quot;</span></code>입니다.</p>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에서 지원하는 다른 옵션 형은 <code class="docutils literal notranslate"><span class="pre">int</span></code>와 <code class="docutils literal notranslate"><span class="pre">float</span></code>입니다. 정수 인자를 기대하는 옵션은 다음과 같습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-n&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;num&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>이 옵션에는 긴 옵션 문자열이 없는데, 완벽하게 허용됩니다. 또한, 기본값이 <code class="docutils literal notranslate"><span class="pre">store</span></code>이기 때문에 명시적인 액션이 없습니다.</p>
<p>다른 가짜 명령 줄을 구문 분석해 봅시다. 이번에는, 옵션 인자를 옵션 바로 다음에 붙일 것입니다: <code class="docutils literal notranslate"><span class="pre">-n42</span></code>(하나의 인자)는 <code class="docutils literal notranslate"><span class="pre">-n</span> <span class="pre">42</span></code>(두 개의 인자)와 동등하므로, 다음 코드는</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="s2">&quot;-n42&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">42</span></code>를 인쇄합니다.</p>
<p>형을 지정하지 않으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 <code class="docutils literal notranslate"><span class="pre">string</span></code>을 가정합니다. 기본 액션이 <code class="docutils literal notranslate"><span class="pre">store</span></code>라는 사실과 결합하면, 첫 번째 예제를 훨씬 더 짧게 만들 수 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--file&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>대상을 제공하지 않으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 옵션 문자열에서 합리적인 기본값을 추측합니다: 첫 번째 긴 옵션 문자열이 <code class="docutils literal notranslate"><span class="pre">--foo-bar</span></code>이면 기본 대상은 <code class="docutils literal notranslate"><span class="pre">foo_bar</span></code>입니다. 긴 옵션 문자열이 없으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 첫 번째 짧은 옵션 문자열을 찾습니다: <code class="docutils literal notranslate"><span class="pre">-f</span></code>의 기본 대상은 <code class="docutils literal notranslate"><span class="pre">f</span></code>입니다.</p>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 내장 <code class="docutils literal notranslate"><span class="pre">complex</span></code> 형도 포함합니다. 형 추가는 섹션 <a class="reference internal" href="#optparse-extending-optparse"><span class="std std-ref">optparse 확장하기</span></a>에서 다룹니다.</p>
</div>
<div class="section" id="handling-boolean-flag-options">
<span id="optparse-handling-boolean-options"></span><h3>불리언 (플래그) 옵션 처리하기<a class="headerlink" href="#handling-boolean-flag-options" title="제목 주소">¶</a></h3>
<p>플래그 옵션(특정 옵션이 발견되면 변수를 참이나 거짓으로 설정합니다)은 매우 흔합니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 <code class="docutils literal notranslate"><span class="pre">store_true</span></code>와 <code class="docutils literal notranslate"><span class="pre">store_false</span></code>의 두 가지 별도의 액션으로 지원합니다. 예를 들어, <code class="docutils literal notranslate"><span class="pre">-v</span></code>로 켜고 <code class="docutils literal notranslate"><span class="pre">-q</span></code>로 끄는 <code class="docutils literal notranslate"><span class="pre">verbose</span></code> 플래그가 있을 수 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>여기에 대상이 같은 두 가지 옵션이 있는데, 완벽하게 괜찮습니다. (단지 기본값을 설정할 때 약간 주의해야 함을 뜻합니다---아래를 참조하십시오.)</p>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 명령 줄에서 <code class="docutils literal notranslate"><span class="pre">-v</span></code>를 만나면, <code class="docutils literal notranslate"><span class="pre">options.verbose</span></code>를 <code class="docutils literal notranslate"><span class="pre">True</span></code>로 설정합니다; <code class="docutils literal notranslate"><span class="pre">-q</span></code>를 만나면 <code class="docutils literal notranslate"><span class="pre">options.verbose</span></code>는 <code class="docutils literal notranslate"><span class="pre">False</span></code>로 설정됩니다.</p>
</div>
<div class="section" id="other-actions">
<span id="optparse-other-actions"></span><h3>다른 액션들<a class="headerlink" href="#other-actions" title="제목 주소">¶</a></h3>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에서 지원하는 다른 액션은 다음과 같습니다:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;store_const&quot;</span></code></dt><dd><p>상숫값을 저장합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code></dt><dd><p>이 옵션의 인자를 리스트에 추가합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;count&quot;</span></code></dt><dd><p>카운터를 1씩 증가시킵니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;callback&quot;</span></code></dt><dd><p>지정된 함수를 호출합니다</p>
</dd>
</dl>
<p>이들은 섹션 <a class="reference internal" href="#optparse-reference-guide"><span class="std std-ref">레퍼런스 지침서</span></a>와 섹션 <a class="reference internal" href="#optparse-option-callbacks"><span class="std std-ref">옵션 콜백</span></a>에서 다룹니다.</p>
</div>
<div class="section" id="default-values">
<span id="optparse-default-values"></span><h3>기본값<a class="headerlink" href="#default-values" title="제목 주소">¶</a></h3>
<p>위의 모든 예에는 특정 명령 줄 옵션을 볼 때 일부 변수 (&quot;대상(destination)&quot;) 설정이 수반됩니다. 이러한 옵션이 나타나지 않으면 어떻게 될까요? 기본값을 제공하지 않아서, 모두 <code class="docutils literal notranslate"><span class="pre">None</span></code>으로 설정됩니다. 이것은 일반적으로 괜찮지만, 때로는 더 많은 제어가 필요합니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 각 대상에 대한 기본값을 제공할 수 있도록 하는데, 명령 줄이 구문 분석되기 전에 대입됩니다.</p>
<p>먼저, verbose/quiet 예를 고려하십시오. <code class="docutils literal notranslate"><span class="pre">-q</span></code>가 나타나지 않는 한 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 <code class="docutils literal notranslate"><span class="pre">verbose</span></code>를 <code class="docutils literal notranslate"><span class="pre">True</span></code>로 설정하도록 하려면, 다음과 같이 할 수 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>기본값은 특정 옵션이 아닌 <em>대상(destination)</em>에 적용되고, 이 두 옵션은 같은 대상을 갖기 때문에, 다음과 정확히 동등합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>이걸 생각해봅시다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>다시, <code class="docutils literal notranslate"><span class="pre">verbose</span></code>의 기본값은 <code class="docutils literal notranslate"><span class="pre">True</span></code>입니다: 특정 대상에 대해 제공되는 마지막 기본값이 사용되는 값입니다.</p>
<p>기본값을 지정하는 더 명확한 방법은 OptionParser의 <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_defaults()</span></code> 메서드인데, <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>를 호출하기 전에 언제든지 호출할 수 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<p>이전과 마찬가지로, 주어진 옵션 대상에 대해 지정된 마지막 값이 사용됩니다. 명확성을 위해, 둘 다가 아닌 한 가지 방법을 사용하여 기본값을 설정하십시오.</p>
</div>
<div class="section" id="generating-help">
<span id="optparse-generating-help"></span><h3>도움말 생성하기<a class="headerlink" href="#generating-help" title="제목 주소">¶</a></h3>
<p>도움말과 사용법 텍스트를 자동으로 생성하는 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 기능은 사용자 친화적인 명령 줄 인터페이스를 만드는 데 유용합니다. 각 옵션에 대해 <a class="reference internal" href="#optparse.Option.help" title="optparse.Option.help"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help</span></code></a> 값을 제공하고, 선택적으로 전체 프로그램에 대한 짧은 사용법 메시지를 제공하기만 하면 됩니다. 다음은 사용자에게 친숙한 (문서화된) 옵션으로 채워진 OptionParser입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span> <span class="o">=</span> <span class="s2">&quot;usage: %prog [options] arg1 arg2&quot;</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="s2">&quot;--verbose&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">help</span><span class="o">=</span><span class="s2">&quot;make lots of noise [default]&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--quiet&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span>
                  <span class="n">help</span><span class="o">=</span><span class="s2">&quot;be vewwy quiet (I&#39;m hunting wabbits)&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--filename&quot;</span><span class="p">,</span>
                  <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;FILE&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;write output to FILE&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;--mode&quot;</span><span class="p">,</span>
                  <span class="n">default</span><span class="o">=</span><span class="s2">&quot;intermediate&quot;</span><span class="p">,</span>
                  <span class="n">help</span><span class="o">=</span><span class="s2">&quot;interaction mode: novice, intermediate, &quot;</span>
                       <span class="s2">&quot;or expert [default: </span><span class="si">%d</span><span class="s2">efault]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 명령 줄에서 <code class="docutils literal notranslate"><span class="pre">-h</span></code>나 <code class="docutils literal notranslate"><span class="pre">--help</span></code>를 만나거나, <code class="xref py py-meth docutils literal notranslate"><span class="pre">parser.print_help()</span></code>를 호출하면, 다음을 표준 출력에 인쇄합니다:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: &lt;yourscript&gt; [options] arg1 arg2

Options:
  -h, --help            show this help message and exit
  -v, --verbose         make lots of noise [default]
  -q, --quiet           be vewwy quiet (I&#39;m hunting wabbits)
  -f FILE, --filename=FILE
                        write output to FILE
  -m MODE, --mode=MODE  interaction mode: novice, intermediate, or
                        expert [default: intermediate]
</pre></div>
</div>
<p>(도움말 출력이 help 옵션으로 트리거 되면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 도움말 텍스트를 인쇄한 후 종료합니다.)</p>
<p>여기에는 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 최상의 도움말 메시지를 생성하는 데 도움이 되는 많은 것들이 있습니다:</p>
<ul>
<li><p>스크립트는 자체 사용법 메시지를 정의합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span> <span class="o">=</span> <span class="s2">&quot;usage: %prog [options] arg1 arg2&quot;</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 사용법 문자열의 <code class="docutils literal notranslate"><span class="pre">%prog</span></code>를 현재 프로그램의 이름, 즉 <code class="docutils literal notranslate"><span class="pre">os.path.basename(sys.argv[0])</span></code>으로 확장합니다. 확장된 문자열은 자세한 옵션 도움말 앞에 인쇄됩니다.</p>
<p>사용법 문자열을 제공하지 않으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 단순하지만, 합리적인 기본값을 사용합니다: <code class="docutils literal notranslate"><span class="pre">&quot;Usage:</span> <span class="pre">%prog</span> <span class="pre">[options]&quot;</span></code>, 이는 스크립트가 위치 인자를 취하지 않는다면 괜찮습니다.</p>
</li>
<li><p>모든 옵션은 도움말 문자열을 정의하고, 줄 바꿈에 대해 걱정하지 않습니다---<a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 줄 바꿈을 처리하고 도움말 출력을 보기 좋게 만듭니다.</p></li>
<li><p>값을 취하는 옵션은 자동으로 생성된 도움말 메시지에 이 사실을 나타냅니다, 예를 들어 &quot;mode&quot; 옵션의 경우:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">m</span> <span class="n">MODE</span><span class="p">,</span> <span class="o">--</span><span class="n">mode</span><span class="o">=</span><span class="n">MODE</span>
</pre></div>
</div>
<p>여기서, &quot;MODE&quot;를 메타 변수(meta-variable)라고 합니다: 사용자가 <code class="docutils literal notranslate"><span class="pre">-m</span></code>/<code class="docutils literal notranslate"><span class="pre">--mode</span></code>에 제공할 것으로 기대되는 인자를 나타냅니다. 기본적으로, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 대상 변수 이름을 대문자로 변환하고 이를 메타 변수에 사용합니다. 때로는, 이것이 여러분이 원하는 것이 아닙니다---예를 들어, <code class="docutils literal notranslate"><span class="pre">--filename</span></code> 옵션은 명시적으로 <code class="docutils literal notranslate"><span class="pre">metavar=&quot;FILE&quot;</span></code>을 설정하여 다음과 같은 자동 생성 옵션 설명을 생성합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">f</span> <span class="n">FILE</span><span class="p">,</span> <span class="o">--</span><span class="n">filename</span><span class="o">=</span><span class="n">FILE</span>
</pre></div>
</div>
<p>이것은 공간을 절약하는 것 이상으로 중요합니다: 수동으로 작성된 도움말 텍스트는 메타 변수 <code class="docutils literal notranslate"><span class="pre">FILE</span></code>을 사용하여 반 형식 구문 <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">FILE</span></code>과 비형식적 의미 설명 &quot;write output to FILE&quot; 사이에 연결이 있다는 단서를 사용자에게 알려줍니다. 이는 최종 사용자에게 도움말 텍스트를 훨씬 더 명확하고 유용하게 만드는 간단하지만, 효과적인 방법입니다.</p>
</li>
<li><p>기본값이 있는 옵션은 도움말 문자열에 <code class="docutils literal notranslate"><span class="pre">%default</span></code>를 포함할 수 있습니다---<a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이를 옵션 기본값의 <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a>로 대체합니다. 옵션에 기본값이 없으면 (또는 기본값이 <code class="docutils literal notranslate"><span class="pre">None</span></code>이면), <code class="docutils literal notranslate"><span class="pre">%default</span></code>는 <code class="docutils literal notranslate"><span class="pre">none</span></code>으로 확장됩니다.</p></li>
</ul>
<div class="section" id="grouping-options">
<h4>옵션 그룹화하기<a class="headerlink" href="#grouping-options" title="제목 주소">¶</a></h4>
<p>많은 옵션을 다룰 때, 더 나은 도움말 출력을 위해 이러한 옵션을 그룹화하는 것이 편리합니다. <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a>에는 여러 옵션 그룹이 포함될 수 있으며 각 그룹에는 여러 옵션이 포함될 수 있습니다.</p>
<p>옵션 그룹은 클래스 <a class="reference internal" href="#optparse.OptionGroup" title="optparse.OptionGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionGroup</span></code></a>을 사용하여 얻습니다:</p>
<dl class="class">
<dt id="optparse.OptionGroup">
<em class="property">class </em><code class="sig-prename descclassname">optparse.</code><code class="sig-name descname">OptionGroup</code><span class="sig-paren">(</span><em class="sig-param">parser</em>, <em class="sig-param">title</em>, <em class="sig-param">description=None</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionGroup" title="정의 주소">¶</a></dt>
<dd><p>여기서</p>
<ul class="simple">
<li><p>parser는 그룹이 삽입될 <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a> 인스턴스입니다</p></li>
<li><p>title은 그룹 제목입니다</p></li>
<li><p>description(선택 사항)은 그룹에 대한 자세한 설명입니다</p></li>
</ul>
</dd></dl>

<p><a class="reference internal" href="#optparse.OptionGroup" title="optparse.OptionGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionGroup</span></code></a>은 (<a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a> 처럼) <code class="xref py py-class docutils literal notranslate"><span class="pre">OptionContainer</span></code>에서 상속되므로 <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_option()</span></code> 메서드를 사용하여 그룹에 옵션을 추가할 수 있습니다.</p>
<p>일단 모든 옵션이 선언되면, <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a> 메서드 <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_option_group()</span></code>을 사용하여 그룹이 이전에 정의된 구문 분석기에 추가됩니다.</p>
<p>이전 섹션에서 정의한 구문 분석기로 계속 진행하면, 구문 분석기에 <a class="reference internal" href="#optparse.OptionGroup" title="optparse.OptionGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionGroup</span></code></a>을 쉽게 추가할 수 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">group</span> <span class="o">=</span> <span class="n">OptionGroup</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="s2">&quot;Dangerous Options&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Caution: use these options at your own risk.  &quot;</span>
                    <span class="s2">&quot;It is believed that some of them bite.&quot;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-g&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Group option.&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option_group</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
</pre></div>
</div>
<p>그러면 다음과 같은 도움말이 출력됩니다:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: &lt;yourscript&gt; [options] arg1 arg2

Options:
  -h, --help            show this help message and exit
  -v, --verbose         make lots of noise [default]
  -q, --quiet           be vewwy quiet (I&#39;m hunting wabbits)
  -f FILE, --filename=FILE
                        write output to FILE
  -m MODE, --mode=MODE  interaction mode: novice, intermediate, or
                        expert [default: intermediate]

  Dangerous Options:
    Caution: use these options at your own risk.  It is believed that some
    of them bite.

    -g                  Group option.
</pre></div>
</div>
<p>좀 더 완전한 예는 둘 이상의 그룹을 수반할 수 있습니다: 여전히 이전 예를 확장합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">group</span> <span class="o">=</span> <span class="n">OptionGroup</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="s2">&quot;Dangerous Options&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Caution: use these options at your own risk.  &quot;</span>
                    <span class="s2">&quot;It is believed that some of them bite.&quot;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-g&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Group option.&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option_group</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>

<span class="n">group</span> <span class="o">=</span> <span class="n">OptionGroup</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="s2">&quot;Debug Options&quot;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-d&quot;</span><span class="p">,</span> <span class="s2">&quot;--debug&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                 <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Print debug information&quot;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="s2">&quot;--sql&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                 <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Print all SQL statements executed&quot;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-e&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Print every action done&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option_group</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
</pre></div>
</div>
<p>다음과 같은 출력을 줍니다:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: &lt;yourscript&gt; [options] arg1 arg2

Options:
  -h, --help            show this help message and exit
  -v, --verbose         make lots of noise [default]
  -q, --quiet           be vewwy quiet (I&#39;m hunting wabbits)
  -f FILE, --filename=FILE
                        write output to FILE
  -m MODE, --mode=MODE  interaction mode: novice, intermediate, or expert
                        [default: intermediate]

  Dangerous Options:
    Caution: use these options at your own risk.  It is believed that some
    of them bite.

    -g                  Group option.

  Debug Options:
    -d, --debug         Print debug information
    -s, --sql           Print all SQL statements executed
    -e                  Print every action done
</pre></div>
</div>
<p>특히 옵션 그룹을 프로그래밍 방식으로 작업할 때, 또 다른 흥미로운 메서드는 다음과 같습니다:</p>
<dl class="method">
<dt id="optparse.OptionParser.get_option_group">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">get_option_group</code><span class="sig-paren">(</span><em class="sig-param">opt_str</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.get_option_group" title="정의 주소">¶</a></dt>
<dd><p>짧거나 긴 옵션 문자열 <em>opt_str</em>(예를 들어 <code class="docutils literal notranslate"><span class="pre">'-o'</span></code>나 <code class="docutils literal notranslate"><span class="pre">'--option'</span></code>)이 속한 <a class="reference internal" href="#optparse.OptionGroup" title="optparse.OptionGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionGroup</span></code></a>을 반환합니다. 그러한 <a class="reference internal" href="#optparse.OptionGroup" title="optparse.OptionGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionGroup</span></code></a>이 없으면, <code class="docutils literal notranslate"><span class="pre">None</span></code>을 반환합니다.</p>
</dd></dl>

</div>
</div>
<div class="section" id="printing-a-version-string">
<span id="optparse-printing-version-string"></span><h3>버전 문자열 인쇄하기<a class="headerlink" href="#printing-a-version-string" title="제목 주소">¶</a></h3>
<p>간단한 사용법 문자열과 유사하게, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 프로그램의 버전 문자열을 인쇄 할 수도 있습니다. OptionParser에 <code class="docutils literal notranslate"><span class="pre">version</span></code> 인자로 문자열을 제공해야 합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">usage</span><span class="o">=</span><span class="s2">&quot;%prog [-f] [-q]&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;%prog 1.0&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">%prog</span></code>는 <code class="docutils literal notranslate"><span class="pre">usage</span></code>에서처럼 확장됩니다. 그 외에도, <code class="docutils literal notranslate"><span class="pre">version</span></code>은 원하는 무엇이든 포함할 수 있습니다. 이를 제공하면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 자동으로 구문 분석기에 <code class="docutils literal notranslate"><span class="pre">--version</span></code> 옵션을 추가합니다. 명령 줄에서 이 옵션을 발견하면, (<code class="docutils literal notranslate"><span class="pre">%prog</span></code>를 대체하여) <code class="docutils literal notranslate"><span class="pre">version</span></code> 문자열을 확장하고, stdout에 인쇄한 다음, 종료합니다.</p>
<p>예를 들어, 스크립트가 <code class="docutils literal notranslate"><span class="pre">/usr/bin/foo</span></code>로 호출되면:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> /usr/bin/foo --version
<span class="go">foo 1.0</span>
</pre></div>
</div>
<p>다음 두 가지 메서드를 사용하여 <code class="docutils literal notranslate"><span class="pre">version</span></code> 문자열을 인쇄하고 가져올 수 있습니다:</p>
<dl class="method">
<dt id="optparse.OptionParser.print_version">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">print_version</code><span class="sig-paren">(</span><em class="sig-param">file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.print_version" title="정의 주소">¶</a></dt>
<dd><p>현재 프로그램의 버전 메시지(<code class="docutils literal notranslate"><span class="pre">self.version</span></code>)를 <em>file</em>(기본값은 표준 출력)로 인쇄합니다. <a class="reference internal" href="#optparse.OptionParser.print_usage" title="optparse.OptionParser.print_usage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_usage()</span></code></a>와 마찬가지로, <code class="docutils literal notranslate"><span class="pre">self.version</span></code>에 등장하는 <code class="docutils literal notranslate"><span class="pre">%prog</span></code>는 현재 프로그램의 이름으로 대체됩니다. <code class="docutils literal notranslate"><span class="pre">self.version</span></code>이 비어 있거나 정의되지 않았으면 아무 작업도 수행하지 않습니다.</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.get_version">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.get_version" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#optparse.OptionParser.print_version" title="optparse.OptionParser.print_version"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_version()</span></code></a>과 같지만 인쇄하는 대신 버전 문자열을 반환합니다.</p>
</dd></dl>

</div>
<div class="section" id="how-optparse-handles-errors">
<span id="optparse-how-optparse-handles-errors"></span><h3><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 에러를 처리하는 방법<a class="headerlink" href="#how-optparse-handles-errors" title="제목 주소">¶</a></h3>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 걱정해야 할 에러에는 두 가지가 있습니다: 프로그래머 에러와 사용자 에러. 프로그래머 에러는 일반적으로 <a class="reference internal" href="#optparse.OptionParser.add_option" title="optparse.OptionParser.add_option"><code class="xref py py-func docutils literal notranslate"><span class="pre">OptionParser.add_option()</span></code></a>에 대한 잘못된 호출입니다, 예를 들어 잘못된 옵션 문자열, 알 수 없는 옵션 어트리뷰트, 누락된 옵션 어트리뷰트 등. 이러한 에러는 일반적인 방식으로 처리됩니다: 예외(<code class="xref py py-exc docutils literal notranslate"><span class="pre">optparse.OptionError</span></code>나 <a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>)를 발생시키고 프로그램이 충돌하도록 합니다.</p>
<p>사용자 에러를 처리하는 것은 훨씬 더 중요합니다, 코드가 아무리 안정적이더라도 발생하는 것이 보장되기 때문입니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 잘못된 옵션 인자 (<code class="docutils literal notranslate"><span class="pre">-n</span></code>이 정수 인자를 취할 때 <code class="docutils literal notranslate"><span class="pre">-n</span> <span class="pre">4x</span></code> 전달), 누락된 인자(<code class="docutils literal notranslate"><span class="pre">-n</span></code>이 모든 형의 인자를 취할 때, 명령 줄 끝의 <code class="docutils literal notranslate"><span class="pre">-n</span></code>)와 같은 일부 사용자 에러를 자동으로 감지할 수 있습니다. 또한, <code class="xref py py-func docutils literal notranslate"><span class="pre">OptionParser.error()</span></code>를 호출하여 응용 프로그램 정의 에러 조건을 알릴 수 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="o">...</span>
<span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">a</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">b</span><span class="p">:</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;options -a and -b are mutually exclusive&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>두 경우 모두, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 같은 방식으로 에러를 처리합니다: 프로그램의 사용법 메시지와 에러 메시지를 표준 에러에 인쇄하고 에러 상태 2로 종료합니다.</p>
<p>사용자가 정수를 취하는 옵션에 <code class="docutils literal notranslate"><span class="pre">4x</span></code>를 전달하는 위의 첫 번째 예를 고려하십시오:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> /usr/bin/foo -n 4x
<span class="go">Usage: foo [options]</span>

<span class="go">foo: error: option -n: invalid integer value: &#39;4x&#39;</span>
</pre></div>
</div>
<p>또는 사용자가 값을 전혀 전달하지 못하는 경우:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> /usr/bin/foo -n
<span class="go">Usage: foo [options]</span>

<span class="go">foo: error: -n option requires an argument</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>-생성 에러 메시지는 항상 에러와 관련된 옵션을 언급하도록 주의를 기울입니다; 응용 프로그램 코드에서 <code class="xref py py-func docutils literal notranslate"><span class="pre">OptionParser.error()</span></code>를 호출할 때도 그래야 합니다.</p>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 기본 에러 처리 동작이 여러분의 요구에 맞지 않으면, OptionParser를 서브 클래스 화하고 <code class="xref py py-meth docutils literal notranslate"><span class="pre">exit()</span></code> 및/또는 <code class="xref py py-meth docutils literal notranslate"><span class="pre">error()</span></code> 메서드를 재정의해야 합니다.</p>
</div>
<div class="section" id="putting-it-all-together">
<span id="optparse-putting-it-all-together"></span><h3>모두 합치기<a class="headerlink" href="#putting-it-all-together" title="제목 주소">¶</a></h3>
<p>일반적으로 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> 기반 스크립트는 다음과 같습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">optparse</span> <span class="k">import</span> <span class="n">OptionParser</span>
<span class="o">...</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">usage</span> <span class="o">=</span> <span class="s2">&quot;usage: %prog [options] arg&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">usage</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--file&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filename&quot;</span><span class="p">,</span>
                      <span class="n">help</span><span class="o">=</span><span class="s2">&quot;read data from FILENAME&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="s2">&quot;--verbose&quot;</span><span class="p">,</span>
                      <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--quiet&quot;</span><span class="p">,</span>
                      <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;incorrect number of arguments&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;reading </span><span class="si">%s</span><span class="s2">...&quot;</span> <span class="o">%</span> <span class="n">options</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
    <span class="o">...</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="reference-guide">
<span id="optparse-reference-guide"></span><h2>레퍼런스 지침서<a class="headerlink" href="#reference-guide" title="제목 주소">¶</a></h2>
<div class="section" id="creating-the-parser">
<span id="optparse-creating-parser"></span><h3>구문 분석기 만들기<a class="headerlink" href="#creating-the-parser" title="제목 주소">¶</a></h3>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>를 사용하는 첫 번째 단계는 OptionParser 인스턴스를 만드는 것입니다.</p>
<dl class="class">
<dt id="optparse.OptionParser">
<em class="property">class </em><code class="sig-prename descclassname">optparse.</code><code class="sig-name descname">OptionParser</code><span class="sig-paren">(</span><em class="sig-param">...</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser" title="정의 주소">¶</a></dt>
<dd><p>OptionParser 생성자에는 필수 인자가 없지만, 여러 선택적 키워드 인자가 있습니다. 이들을 항상 키워드 인자로 전달해야 합니다, 즉, 인자가 선언된 순서에 의존하지 마십시오.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">usage</span></code> (기본값: <code class="docutils literal notranslate"><span class="pre">&quot;%prog</span> <span class="pre">[options]&quot;</span></code>)</dt><dd><p>프로그램이 잘못 실행되거나 도움말(help) 옵션을 사용할 때 인쇄할 사용법 요약. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 사용법 문자열을 인쇄할 때, <code class="docutils literal notranslate"><span class="pre">%prog</span></code>를 <code class="docutils literal notranslate"><span class="pre">os.path.basename(sys.argv[0])</span></code>(또는 해당 키워드 인자를 전달한 경우 <code class="docutils literal notranslate"><span class="pre">prog</span></code>)으로 확장합니다. 사용법 메시지를 표시하지 않으려면, 특수 값 <code class="xref py py-data docutils literal notranslate"><span class="pre">optparse.SUPPRESS_USAGE</span></code>를 전달하십시오.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">option_list</span></code> (기본값: <code class="docutils literal notranslate"><span class="pre">[]</span></code>)</dt><dd><p>구문 분석기를 채울 Option 객체 리스트. <code class="docutils literal notranslate"><span class="pre">option_list</span></code>의 옵션은 <code class="docutils literal notranslate"><span class="pre">standard_option_list</span></code>(OptionParser 서브 클래스에서 설정할 수 있는 클래스 어트리뷰트)의 모든 옵션 뒤에 추가되지만, 모든 버전(version) 또는 도움말(help) 옵션 앞에 추가됩니다. 폐지되었습니다; 대신 구문 분석기를 만든 후 <a class="reference internal" href="#optparse.OptionParser.add_option" title="optparse.OptionParser.add_option"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_option()</span></code></a>을 사용하십시오.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">option_class</span></code> (기본값: optparse.Option)</dt><dd><p><a class="reference internal" href="#optparse.OptionParser.add_option" title="optparse.OptionParser.add_option"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_option()</span></code></a>에서 구문 분석기에 옵션을 추가할 때 사용할 클래스.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">version</span></code> (기본값: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</dt><dd><p>사용자가 버전(version) 옵션을 제공할 때 인쇄 할 버전 문자열. <code class="docutils literal notranslate"><span class="pre">version</span></code>에 참값을 제공하면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 단일 옵션 문자열 <code class="docutils literal notranslate"><span class="pre">--version</span></code>으로 버전 옵션을 자동으로 추가합니다. 하위 문자열 <code class="docutils literal notranslate"><span class="pre">%prog</span></code>는 <code class="docutils literal notranslate"><span class="pre">usage</span></code>와 마찬가지로 확장됩니다.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">conflict_handler</span></code> (기본값: <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code>)</dt><dd><p>충돌하는 옵션 문자열이 있는 옵션이 구문 분석기에 추가될 때 수행 할 작업을 지정합니다; 섹션 <a class="reference internal" href="#optparse-conflicts-between-options"><span class="std std-ref">옵션 간의 충돌</span></a>을 참조하십시오.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">description</span></code> (기본값: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</dt><dd><p>프로그램에 대한 간략한 개요를 제공하는 텍스트 단락. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 현재 터미널 너비에 맞게 이 단락을 다시 포맷하고 사용자가 도움말을 요청할 때 인쇄합니다 (<code class="docutils literal notranslate"><span class="pre">usage</span></code> 이후, 옵션 목록 이전).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">formatter</span></code> (기본값: 새 <code class="xref py py-class docutils literal notranslate"><span class="pre">IndentedHelpFormatter</span></code>)</dt><dd><p>도움말 텍스트를 인쇄하는 데 사용될 optparse.HelpFormatter의 인스턴스. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이 목적으로 두 개의 구상 클래스를 제공합니다: IndentedHelpFormatter 와 TitledHelpFormatter.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">add_help_option</span></code> (기본값: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</dt><dd><p>참이면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 구문 분석기에 도움말 옵션(옵션 문자열 <code class="docutils literal notranslate"><span class="pre">-h</span></code>와 <code class="docutils literal notranslate"><span class="pre">--help</span></code>)을 추가합니다.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">prog</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">usage</span></code>와 <code class="docutils literal notranslate"><span class="pre">version</span></code>에서 <code class="docutils literal notranslate"><span class="pre">%prog</span></code>를 확장할 때 <code class="docutils literal notranslate"><span class="pre">os.path.basename(sys.argv[0])</span></code> 대신 사용할 문자열.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">epilog</span></code> (기본값: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</dt><dd><p>옵션 도움말 다음에 인쇄할 도움말 텍스트 단락.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="populating-the-parser">
<span id="optparse-populating-parser"></span><h3>구문 분석기 채우기<a class="headerlink" href="#populating-the-parser" title="제목 주소">¶</a></h3>
<p>구문 분석기를 옵션으로 채우는 방법에는 여러 가지가 있습니다. 선호되는 방법은 섹션 <a class="reference internal" href="#optparse-tutorial"><span class="std std-ref">자습서</span></a>에 표시된 대로, <a class="reference internal" href="#optparse.OptionParser.add_option" title="optparse.OptionParser.add_option"><code class="xref py py-meth docutils literal notranslate"><span class="pre">OptionParser.add_option()</span></code></a>을 사용하는 것입니다. <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_option()</span></code>은 다음 두 가지 방법의 하나로 호출 할 수 있습니다:</p>
<ul class="simple">
<li><p>(<code class="xref py py-func docutils literal notranslate"><span class="pre">make_option()</span></code>에서 반환되는 것과 같은) Option 인스턴스를 전달합니다</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">make_option()</span></code>(즉, Option 생성자)에 허용되는 위치와 키워드 인자의 조합을 전달합니다, 그러면 Option 인스턴스를 만듭니다</p></li>
</ul>
<p>다른 대안은 다음과 같이 미리 생성된 Option 인스턴스 리스트를 OptionParser 생성자에 전달하는 것입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">option_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">make_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--filename&quot;</span><span class="p">,</span>
                <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filename&quot;</span><span class="p">),</span>
    <span class="n">make_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--quiet&quot;</span><span class="p">,</span>
                <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">),</span>
    <span class="p">]</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">option_list</span><span class="o">=</span><span class="n">option_list</span><span class="p">)</span>
</pre></div>
</div>
<p>(<code class="xref py py-func docutils literal notranslate"><span class="pre">make_option()</span></code>은 Option 인스턴스를 만들기 위한 팩토리 함수입니다; 현재는 Option 생성자의 별칭입니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 향후 버전은 Option을 여러 클래스로 나눌 수 있으며, <code class="xref py py-func docutils literal notranslate"><span class="pre">make_option()</span></code>은 인스턴스 화할 올바른 클래스를 선택할 것입니다. Option을 직접 인스턴스 화하지 마십시오.)</p>
</div>
<div class="section" id="defining-options">
<span id="optparse-defining-options"></span><h3>옵션 정의하기<a class="headerlink" href="#defining-options" title="제목 주소">¶</a></h3>
<p>각 Option 인스턴스는 동의어 명령 줄 옵션 문자열 집합을 나타냅니다, 예를 들어 <code class="docutils literal notranslate"><span class="pre">-f</span></code>와 <code class="docutils literal notranslate"><span class="pre">--file</span></code>. 짧거나 긴 옵션 문자열을 얼마든지 지정할 수 있지만, 전체적으로 옵션 문자열을 적어도 하나 지정해야 합니다.</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Option</span></code> 인스턴스를 만드는 규범적 방법은 <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a>의 <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_option()</span></code> 메서드를 사용하는 것입니다.</p>
<dl class="method">
<dt id="optparse.OptionParser.add_option">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">add_option</code><span class="sig-paren">(</span><em class="sig-param">option</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.add_option" title="정의 주소">¶</a></dt>
<dt>
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">add_option</code><span class="sig-paren">(</span><em class="sig-param">*opt_str</em>, <em class="sig-param">attr=value</em>, <em class="sig-param">...</em><span class="sig-paren">)</span></dt>
<dd><p>짧은 옵션 문자열로만 옵션을 정의하려면:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="n">attr</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>그리고 긴 옵션 문자열로만 옵션을 정의하려면:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--foo&quot;</span><span class="p">,</span> <span class="n">attr</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>키워드 인자는 새 Option 객체의 어트리뷰트를 정의합니다. 가장 중요한 옵션 어트리뷰트는 <a class="reference internal" href="#optparse.Option.action" title="optparse.Option.action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action</span></code></a>이며, 전체적으로 어떤 어트리뷰트가 관련성이 있거나 필요한지를 결정합니다. 관련 없는 옵션 어트리뷰트를 전달하거나, 필수 어트리뷰트를 전달하지 못하면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 실수를 설명하는 <code class="xref py py-exc docutils literal notranslate"><span class="pre">OptionError</span></code> 예외를 발생시킵니다.</p>
<p>옵션의 <em>action</em>은 명령 줄에서 이 옵션을 만날 때 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 수행하는 작업을 결정합니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에 하드 코딩된 표준 옵션 액션은 다음과 같습니다:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code></dt><dd><p>이 옵션의 인자를 저장합니다 (기본값)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;store_const&quot;</span></code></dt><dd><p>상숫값을 저장합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;store_true&quot;</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code>를 저장합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;store_false&quot;</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">False</span></code>를 저장합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code></dt><dd><p>이 옵션의 인자를 리스트에 추가합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;append_const&quot;</span></code></dt><dd><p>리스트에 상숫값을 추가합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;count&quot;</span></code></dt><dd><p>카운터를 1씩 증가시킵니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;callback&quot;</span></code></dt><dd><p>지정된 함수를 호출합니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;help&quot;</span></code></dt><dd><p>모든 옵션과 해당 설명을 포함하는 사용법 메시지를 인쇄합니다</p>
</dd>
</dl>
<p>(액션을 제공하지 않으면, 기본값은 <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code>입니다. 이 액션의 경우, <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>과 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a> 옵션 어트리뷰트도 제공할 수 있습니다; <a class="reference internal" href="#optparse-standard-option-actions"><span class="std std-ref">표준 옵션 액션</span></a>을 참조하십시오.)</p>
</dd></dl>

<p>보시다시피, 대부분의 액션은 값을 어딘가에 저장하거나 갱신하는 것을 수반합니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 항상 이를 위해 일반적으로 <code class="docutils literal notranslate"><span class="pre">options</span></code>(<code class="xref py py-class docutils literal notranslate"><span class="pre">optparse.Values</span></code>의 인스턴스)라고 하는 특수 객체를 만듭니다. 옵션 인자(및 기타 다양한 값)는 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a> (destination) 옵션 어트리뷰트에 따라, 이 객체의 어트리뷰트로 저장됩니다.</p>
<p>예를 들어, 다음과 같이 호출할 때</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 하는 첫 번째 작업 중 하나는 <code class="docutils literal notranslate"><span class="pre">options</span></code> 객체를 만드는 것입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span> <span class="o">=</span> <span class="n">Values</span><span class="p">()</span>
</pre></div>
</div>
<p>이 구문 분석기의 옵션 중 하나가 다음과 같이 정의되었으면:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--file&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>그리고 구문 분석 중인 명령 줄에는 다음 중 하나가 포함되면:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">ffoo</span>
<span class="o">-</span><span class="n">f</span> <span class="n">foo</span>
<span class="o">--</span><span class="n">file</span><span class="o">=</span><span class="n">foo</span>
<span class="o">--</span><span class="n">file</span> <span class="n">foo</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이 옵션을 볼 때 다음과 동등한 일을 합니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>
</pre></div>
</div>
<p><a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>과 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a> 옵션 어트리뷰트는 <a class="reference internal" href="#optparse.Option.action" title="optparse.Option.action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action</span></code></a>만큼 중요하지만, <a class="reference internal" href="#optparse.Option.action" title="optparse.Option.action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action</span></code></a>은 <em>모든</em> 옵션에 적합한 유일한 어트리뷰트입니다.</p>
</div>
<div class="section" id="option-attributes">
<span id="optparse-option-attributes"></span><h3>옵션 어트리뷰트<a class="headerlink" href="#option-attributes" title="제목 주소">¶</a></h3>
<p>다음 옵션 어트리뷰트는 <a class="reference internal" href="#optparse.OptionParser.add_option" title="optparse.OptionParser.add_option"><code class="xref py py-meth docutils literal notranslate"><span class="pre">OptionParser.add_option()</span></code></a>에 키워드 인자로 전달될 수 있습니다. 특정 옵션과 관련이 없는 옵션 어트리뷰트를 전달하거나, 필수 옵션 어트리뷰트를 전달하지 못하면 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 <code class="xref py py-exc docutils literal notranslate"><span class="pre">OptionError</span></code>를 발생시킵니다.</p>
<dl class="attribute">
<dt id="optparse.Option.action">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">action</code><a class="headerlink" href="#optparse.Option.action" title="정의 주소">¶</a></dt>
<dd><p>(기본값: <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code>)</p>
<p>이 옵션이 명령 줄에서 보일 때 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 동작을 결정합니다; 사용 가능한 옵션은 <a class="reference internal" href="#optparse-standard-option-actions"><span class="std std-ref">여기</span></a>에 설명되어 있습니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.type">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">type</code><a class="headerlink" href="#optparse.Option.type" title="정의 주소">¶</a></dt>
<dd><p>(기본값: <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>)</p>
<p>이 옵션이 기대하는 인자 형 (예를 들어, <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>이나 <code class="docutils literal notranslate"><span class="pre">&quot;int&quot;</span></code>); 사용 가능한 옵션 형은 <a class="reference internal" href="#optparse-standard-option-types"><span class="std std-ref">여기</span></a>에 설명되어 있습니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.dest">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">dest</code><a class="headerlink" href="#optparse.Option.dest" title="정의 주소">¶</a></dt>
<dd><p>(기본값: 옵션 문자열에서 파생됩니다)</p>
<p>옵션의 액션이 어딘가에 값을 쓰거나 수정하는 것을 의미하면, 이것은 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에게 어디에 쓸 것인지 알려줍니다: <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>는 명령 줄을 구문 분석할 때 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 빌드하는 <code class="docutils literal notranslate"><span class="pre">options</span></code> 객체의 어트리뷰트의 이름을 정합니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.default">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">default</code><a class="headerlink" href="#optparse.Option.default" title="정의 주소">¶</a></dt>
<dd><p>옵션이 명령 줄에서 보이지 않으면 이 옵션의 대상에 사용할 값. <a class="reference internal" href="#optparse.OptionParser.set_defaults" title="optparse.OptionParser.set_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">OptionParser.set_defaults()</span></code></a>도 참조하십시오.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.nargs">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">nargs</code><a class="headerlink" href="#optparse.Option.nargs" title="정의 주소">¶</a></dt>
<dd><p>(기본값: 1)</p>
<p>이 옵션이 보일 때 소비되어야 하는 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a> 형의 인자 수입니다. &gt; 1 이면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 값의 튜플을 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 저장합니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.const">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">const</code><a class="headerlink" href="#optparse.Option.const" title="정의 주소">¶</a></dt>
<dd><p>상숫값을 저장하는 액션의 경우, 저장할 상숫값.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.choices">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">choices</code><a class="headerlink" href="#optparse.Option.choices" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">&quot;choice&quot;</span></code> 형 옵션의 경우, 사용자가 이 중에서 선택할 수 있는 문자열 리스트.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.callback">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">callback</code><a class="headerlink" href="#optparse.Option.callback" title="정의 주소">¶</a></dt>
<dd><p>액션 <code class="docutils literal notranslate"><span class="pre">&quot;callback&quot;</span></code>이 있는 옵션의 경우, 이 옵션이 보일 때 호출 할 콜러블. 콜러블에 전달된 인자에 대한 자세한 내용은 섹션 <a class="reference internal" href="#optparse-option-callbacks"><span class="std std-ref">옵션 콜백</span></a>을 참조하십시오.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.callback_args">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">callback_args</code><a class="headerlink" href="#optparse.Option.callback_args" title="정의 주소">¶</a></dt>
<dt id="optparse.Option.callback_kwargs">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">callback_kwargs</code><a class="headerlink" href="#optparse.Option.callback_kwargs" title="정의 주소">¶</a></dt>
<dd><p>4개의 표준 콜백 인자 다음에 <code class="docutils literal notranslate"><span class="pre">callback</span></code>에 전달할 추가 위치와 키워드 인자.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.help">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">help</code><a class="headerlink" href="#optparse.Option.help" title="정의 주소">¶</a></dt>
<dd><p>사용자가 <a class="reference internal" href="#optparse.Option.help" title="optparse.Option.help"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help</span></code></a> 옵션을 제공한 (가령 <code class="docutils literal notranslate"><span class="pre">--help</span></code>) 후 사용 가능한 모든 옵션을 나열할 때 이 옵션에 대해 인쇄할 도움말 텍스트. 도움말 텍스트가 제공되지 않으면, 옵션이 도움말 텍스트 없이 나열됩니다. 이 옵션을 숨기려면, 특수 값 <code class="xref py py-data docutils literal notranslate"><span class="pre">optparse.SUPPRESS_HELP</span></code>를 사용하십시오.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.metavar">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">metavar</code><a class="headerlink" href="#optparse.Option.metavar" title="정의 주소">¶</a></dt>
<dd><p>(기본값: 옵션 문자열에서 파생됩니다)</p>
<p>도움말 텍스트를 인쇄할 때 사용할 옵션 인자를 나타냅니다. 예제는 섹션 <a class="reference internal" href="#optparse-tutorial"><span class="std std-ref">자습서</span></a>를 참조하십시오.</p>
</dd></dl>

</div>
<div class="section" id="standard-option-actions">
<span id="optparse-standard-option-actions"></span><h3>표준 옵션 액션<a class="headerlink" href="#standard-option-actions" title="제목 주소">¶</a></h3>
<p>다양한 옵션 액션은 모두 요구 사항과 효과가 약간 다릅니다. 대부분의 액션에는 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 동작을 안내하기 위해 지정할 수 있는 몇 가지 연관된 옵션 어트리뷰트가 있습니다; 일부는 해당 액션을 사용하는 모든 옵션에 대해 지정해야 하는 필수 어트리뷰트가 있습니다.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code> [연관된 옵션: <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>, <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>, <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a>, <a class="reference internal" href="#optparse.Option.choices" title="optparse.Option.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a>]</p>
<p>옵션 뒤에 인자가 와야 하며, 인자는 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>에 따라 값으로 변환되고, <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 저장됩니다. <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a> &gt; 1 이면, 명령 줄에서 여러 인자가 소비됩니다; 모두 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>에 따라 변환되고 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 튜플로 저장됩니다. <a class="reference internal" href="#optparse-standard-option-types"><span class="std std-ref">표준 옵션 형</span></a> 섹션을 참조하십시오.</p>
<p><a class="reference internal" href="#optparse.Option.choices" title="optparse.Option.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a>가 제공되면 (문자열 리스트나 튜플), 형의 기본값은 <code class="docutils literal notranslate"><span class="pre">&quot;choice&quot;</span></code>입니다.</p>
<p><a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>이 제공되지 않으면, 기본값은 <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>입니다.</p>
<p><a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>가 제공되지 않으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 첫 번째 긴 옵션 문자열에서 대상을 파생합니다 (예를 들어, <code class="docutils literal notranslate"><span class="pre">--foo-bar</span></code>는 <code class="docutils literal notranslate"><span class="pre">foo_bar</span></code>를 암시합니다). 긴 옵션 문자열이 없으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 첫 번째 짧은 옵션 문자열에서 대상을 파생합니다 (예를 들어, <code class="docutils literal notranslate"><span class="pre">-f</span></code>는 <code class="docutils literal notranslate"><span class="pre">f</span></code>를 암시합니다).</p>
<p>예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-f&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-p&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>다음과 같은 명령 줄을 구문 분석할 때</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">f</span> <span class="n">foo</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">p</span> <span class="mi">1</span> <span class="o">-</span><span class="mf">3.5</span> <span class="mi">4</span> <span class="o">-</span><span class="n">fbar</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 다음과 같이 설정합니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="s2">&quot;foo.txt&quot;</span>
<span class="n">options</span><span class="o">.</span><span class="n">point</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
<span class="n">options</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="s2">&quot;bar.txt&quot;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;store_const&quot;</span></code> [필수 옵션: <a class="reference internal" href="#optparse.Option.const" title="optparse.Option.const"><code class="xref py py-attr docutils literal notranslate"><span class="pre">const</span></code></a>; 연관된 옵션: <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>]</p>
<p>값 <a class="reference internal" href="#optparse.Option.const" title="optparse.Option.const"><code class="xref py py-attr docutils literal notranslate"><span class="pre">const</span></code></a>는 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 저장됩니다.</p>
<p>예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--quiet&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_const&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="s2">&quot;--verbose&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_const&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--noisy&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_const&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--noisy</span></code>가 보이면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 다음과 같이 설정합니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;store_true&quot;</span></code> [연관된 옵션: <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>]</p>
<p><code class="docutils literal notranslate"><span class="pre">True</span></code>를 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 저장하는 <code class="docutils literal notranslate"><span class="pre">&quot;store_const&quot;</span></code>의 특별한 경우.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;store_false&quot;</span></code> [연관된 옵션: <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>]</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;store_true&quot;</span></code>와 비슷하지만, <code class="docutils literal notranslate"><span class="pre">False</span></code>를 저장합니다.</p>
<p>예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--clobber&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;clobber&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--no-clobber&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;clobber&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code> [연관된 옵션: <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>, <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>, <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a>, <a class="reference internal" href="#optparse.Option.choices" title="optparse.Option.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a>]</p>
<p>옵션 다음에는 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>의 리스트에 추가되는 인자가 와야 합니다. <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>의 기본값이 제공되지 않으면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 명령 줄에서 이 옵션을 처음 발견할 때 빈 리스트가 자동으로 만들어집니다. <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a> &gt; 1 이면, 여러 인자가 소비되며, <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a> 길이의 튜플이 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 추가됩니다.</p>
<p><a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>과 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>의 기본값은 <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code> 액션의 경우와 같습니다.</p>
<p>예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-t&quot;</span><span class="p">,</span> <span class="s2">&quot;--tracks&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-t3</span></code>가 명령 줄에 보이면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 다음과 동등한 것을 수행합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="o">.</span><span class="n">tracks</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">options</span><span class="o">.</span><span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>잠시 후, <code class="docutils literal notranslate"><span class="pre">--tracks=4</span></code>가 보이면, 다음을 수행합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="o">.</span><span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">append</span></code> 액션은 옵션의 현재 값에 대해 <code class="docutils literal notranslate"><span class="pre">append</span></code> 메서드를 호출합니다. 이는 지정된 모든 기본값에 <code class="docutils literal notranslate"><span class="pre">append</span></code> 메서드가 있어야 함을 의미합니다. 또한, 기본값이 비어 있지 않으면, 기본 요소가 옵션의 구문 분석된 값에 존재하며, 명령 줄의 모든 값이 기본값 뒤에 추가됨을 의미합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--files&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;~/.mypkg/defaults&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="s1">&#39;--files&#39;</span><span class="p">,</span> <span class="s1">&#39;overrides.mypkg&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span><span class="o">.</span><span class="n">files</span>
<span class="go">[&#39;~/.mypkg/defaults&#39;, &#39;overrides.mypkg&#39;]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;append_const&quot;</span></code> [필수 옵션: <a class="reference internal" href="#optparse.Option.const" title="optparse.Option.const"><code class="xref py py-attr docutils literal notranslate"><span class="pre">const</span></code></a>; 연관된 옵션: <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>]</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;store_const&quot;</span></code>와 비슷하지만, <a class="reference internal" href="#optparse.Option.const" title="optparse.Option.const"><code class="xref py py-attr docutils literal notranslate"><span class="pre">const</span></code></a> 값이 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 추가됩니다; <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code>와 마찬가지로, <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>의 기본값은 <code class="docutils literal notranslate"><span class="pre">None</span></code>이며, 옵션이 처음 발견될 때 빈 리스트가 자동으로 만들어집니다.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;count&quot;</span></code> [연관된 옵션: <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>]</p>
<p><a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>에 저장된 정수를 증가시킵니다. 기본값이 제공되지 않으면, <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a>는 처음으로 증가하기 전에 0으로 설정됩니다.</p>
<p>예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbosity&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-v</span></code>가 명령 줄에서 처음 보이면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 다음과 동등한 작업을 수행합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">options</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>이후에 <code class="docutils literal notranslate"><span class="pre">-v</span></code>가 나타날 때마다 다음과 같이 합니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;callback&quot;</span></code> [필수 옵션: <a class="reference internal" href="#optparse.Option.callback" title="optparse.Option.callback"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback</span></code></a>; 연관된 옵션: <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>, <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a>, <a class="reference internal" href="#optparse.Option.callback_args" title="optparse.Option.callback_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_args</span></code></a>, <a class="reference internal" href="#optparse.Option.callback_kwargs" title="optparse.Option.callback_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_kwargs</span></code></a>]</p>
<p><a class="reference internal" href="#optparse.Option.callback" title="optparse.Option.callback"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback</span></code></a>으로 지정된 함수를 호출합니다, 이 함수는 다음과 같이 호출됩니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>자세한 내용은 섹션 <a class="reference internal" href="#optparse-option-callbacks"><span class="std std-ref">옵션 콜백</span></a>을 참조하십시오.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;help&quot;</span></code></p>
<p>현재 옵션 구문 분석기의 모든 옵션에 대한 전체 도움말 메시지를 인쇄합니다. 도움말 메시지는 OptionParser의 생성자에 전달된 <code class="docutils literal notranslate"><span class="pre">usage</span></code> 문자열과 모든 옵션에 전달된 <a class="reference internal" href="#optparse.Option.help" title="optparse.Option.help"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help</span></code></a> 문자열로 구성됩니다.</p>
<p>옵션에 <a class="reference internal" href="#optparse.Option.help" title="optparse.Option.help"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help</span></code></a> 문자열이 제공되지 않아도, 도움말 메시지에 나열됩니다. 옵션을 완전히 생략하려면, 특수 값 <code class="xref py py-data docutils literal notranslate"><span class="pre">optparse.SUPPRESS_HELP</span></code>를 사용하십시오.</p>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 모든 OptionParser에 <a class="reference internal" href="#optparse.Option.help" title="optparse.Option.help"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help</span></code></a> 옵션을 자동으로 추가하므로, 일반적으로 만들 필요가 없습니다.</p>
<p>예:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">optparse</span> <span class="k">import</span> <span class="n">OptionParser</span><span class="p">,</span> <span class="n">SUPPRESS_HELP</span>

<span class="c1"># 일반적으로, 도움말 옵션은 자동으로 추가되지만, add_help_option 인자를</span>
<span class="c1"># 사용하여 억제할 수 있습니다</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">add_help_option</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-h&quot;</span><span class="p">,</span> <span class="s2">&quot;--help&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;help&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span>
                  <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Be moderately verbose&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--file&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filename&quot;</span><span class="p">,</span>
                  <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Input file to read data from&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--secret&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">SUPPRESS_HELP</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 명령 줄에서 <code class="docutils literal notranslate"><span class="pre">-h</span></code>나 <code class="docutils literal notranslate"><span class="pre">--help</span></code>를 보면, 다음 도움말 메시지와 같은 내용을 stdout에 인쇄합니다 (<code class="docutils literal notranslate"><span class="pre">sys.argv[0]</span></code>이 <code class="docutils literal notranslate"><span class="pre">&quot;foo.py&quot;</span></code>라고 가정합니다):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: foo.py [options]

Options:
  -h, --help        Show this help message and exit
  -v                Be moderately verbose
  --file=FILENAME   Input file to read data from
</pre></div>
</div>
<p>도움말 메시지를 인쇄한 후, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 <code class="docutils literal notranslate"><span class="pre">sys.exit(0)</span></code>으로 프로세스를 종료합니다.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;version&quot;</span></code></p>
<p>OptionParser에 제공된 버전 번호를 stdout에 인쇄하고 종료합니다. 버전 번호는 실제로 OptionParser의 <code class="docutils literal notranslate"><span class="pre">print_version()</span></code> 메서드에 의해 포맷되고 인쇄됩니다. 일반적으로 <code class="docutils literal notranslate"><span class="pre">version</span></code> 인자가 OptionParser 생성자에 제공되는 경우에만 의미가 있습니다. <a class="reference internal" href="#optparse.Option.help" title="optparse.Option.help"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help</span></code></a> 옵션과 마찬가지로, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 필요할 때 자동으로 추가하기 때문에, <code class="docutils literal notranslate"><span class="pre">version</span></code> 옵션을 거의 만들지 않습니다.</p>
</li>
</ul>
</div>
<div class="section" id="standard-option-types">
<span id="optparse-standard-option-types"></span><h3>표준 옵션 형<a class="headerlink" href="#standard-option-types" title="제목 주소">¶</a></h3>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에는 다섯 가지 내장 옵션 형이 있습니다: <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;int&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;choice&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;float&quot;</span></code> 및 <code class="docutils literal notranslate"><span class="pre">&quot;complex&quot;</span></code>. 새로운 옵션 형을 추가해야 하면, 섹션 <a class="reference internal" href="#optparse-extending-optparse"><span class="std std-ref">optparse 확장하기</span></a>를 참조하십시오.</p>
<p>문자열 옵션에 대한 인자는 어떤 방식으로도 검사되거나 변환되지 않습니다: 명령 줄의 텍스트는 있는 그대로 대상에 저장(또는 콜백에 전달)됩니다.</p>
<p>정수 인자(<code class="docutils literal notranslate"><span class="pre">&quot;int&quot;</span></code> 형)는 다음과 같이 구문 분석됩니다:</p>
<ul class="simple">
<li><p>숫자가 <code class="docutils literal notranslate"><span class="pre">0x</span></code>로 시작하면, 16진수로 구문 분석됩니다</p></li>
<li><p>숫자가 <code class="docutils literal notranslate"><span class="pre">0</span></code>으로 시작하면, 8진수로 구문 분석됩니다</p></li>
<li><p>숫자가 <code class="docutils literal notranslate"><span class="pre">0b</span></code>로 시작하면, 이진수로 구문 분석됩니다</p></li>
<li><p>그렇지 않으면, 숫자는 10진수로 구문 분석됩니다</p></li>
</ul>
<p>변환은 적절한 진수(2, 8, 10 또는 16)로 <a class="reference internal" href="functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a>를 호출하여 수행됩니다. 이것이 실패하면, 더 유용한 에러 메시지를 제공하기는 하지만, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>도 마찬가지로 실패합니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;float&quot;</span></code>와 <code class="docutils literal notranslate"><span class="pre">&quot;complex&quot;</span></code> 옵션 인자는 유사한 에러 처리로 <a class="reference internal" href="functions.html#float" title="float"><code class="xref py py-func docutils literal notranslate"><span class="pre">float()</span></code></a>와 <a class="reference internal" href="functions.html#complex" title="complex"><code class="xref py py-func docutils literal notranslate"><span class="pre">complex()</span></code></a>로 직접 변환됩니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;choice&quot;</span></code> 옵션은 <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code> 옵션의 서브 형입니다. <a class="reference internal" href="#optparse.Option.choices" title="optparse.Option.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a> 옵션 어트리뷰트(문자열 시퀀스)는 허용되는 옵션 인자 집합을 정의합니다. <code class="xref py py-func docutils literal notranslate"><span class="pre">optparse.check_choice()</span></code>는 사용자가 제공한 옵션 인자를 이 마스터 리스트와 비교하고 유효하지 않은 문자열이 주어지면 <code class="xref py py-exc docutils literal notranslate"><span class="pre">OptionValueError</span></code> 를 발생시킵니다.</p>
</div>
<div class="section" id="parsing-arguments">
<span id="optparse-parsing-arguments"></span><h3>인자 구문 분석하기<a class="headerlink" href="#parsing-arguments" title="제목 주소">¶</a></h3>
<p>OptionParser를 만들고 채우는 것의 요점은 <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code> 메서드를 호출하는 것입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>여기서 입력 매개 변수는</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">args</span></code></dt><dd><p>처리할 인자의 리스트 (기본값: <code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">values</span></code></dt><dd><p>옵션 인자를 저장할 <code class="xref py py-class docutils literal notranslate"><span class="pre">optparse.Values</span></code> 객체 (기본값: <code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code>의 새 인스턴스) -- 기존 객체를 제공하면, 옵션 기본값이 초기화되지 않습니다.</p>
</dd>
</dl>
<p>그리고 반환 값은</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">options</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">values</span></code>로 전달된 것과 같은 객체, 또는 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 만든 optparse.Values 인스턴스</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">args</span></code></dt><dd><p>모든 옵션이 처리된 후 남은 위치 인자</p>
</dd>
</dl>
<p>가장 일반적인 사용법은 두 키워드 인자 중 어느 것도 제공하지 않는 것입니다. <code class="docutils literal notranslate"><span class="pre">values</span></code>를 제공하면, 반복된 <a class="reference internal" href="functions.html#setattr" title="setattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">setattr()</span></code></a> 호출(옵션 대상에 저장된 모든 옵션 인자에 대해 대략 하나씩)로 수정되고, <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>에서 반환됩니다.</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>가 인자 리스트에서 에러를 만나면, 적절한 최종 사용자 에러 메시지와 함께 OptionParser의 <code class="xref py py-meth docutils literal notranslate"><span class="pre">error()</span></code> 메서드를 호출합니다. 이는 궁극적으로 종료 상태 2(명령 줄 에러에 대한 전통적인 유닉스 종료 상태)로 프로세스를 종료합니다.</p>
</div>
<div class="section" id="querying-and-manipulating-your-option-parser">
<span id="optparse-querying-manipulating-option-parser"></span><h3>옵션 구문 분석기를 조회하고 조작하기<a class="headerlink" href="#querying-and-manipulating-your-option-parser" title="제목 주소">¶</a></h3>
<p>옵션 구문 분석기의 기본 동작은 약간 사용자 정의 할 수 있으며, 옵션 구문 분석기를 들여다보고 거기에 무엇이 있는지 볼 수도 있습니다. OptionParser는 다음과 같은 몇 가지 메서드를 제공합니다:</p>
<dl class="method">
<dt id="optparse.OptionParser.disable_interspersed_args">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">disable_interspersed_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.disable_interspersed_args" title="정의 주소">¶</a></dt>
<dd><p>첫 번째 옵션이 아닌 것에서 중지하도록 구문 분석을 설정합니다. 예를 들어 <code class="docutils literal notranslate"><span class="pre">-a</span></code>와 <code class="docutils literal notranslate"><span class="pre">-b</span></code>가 모두 인자를 취하지 않는 간단한 옵션이면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 일반적으로 다음 문법을 허용합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">prog</span> <span class="o">-</span><span class="n">a</span> <span class="n">arg1</span> <span class="o">-</span><span class="n">b</span> <span class="n">arg2</span>
</pre></div>
</div>
<p>그리고 다음과 동등하게 취급합니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">prog</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">b</span> <span class="n">arg1</span> <span class="n">arg2</span>
</pre></div>
</div>
<p>이 기능을 비활성화하려면, <a class="reference internal" href="#optparse.OptionParser.disable_interspersed_args" title="optparse.OptionParser.disable_interspersed_args"><code class="xref py py-meth docutils literal notranslate"><span class="pre">disable_interspersed_args()</span></code></a>를 호출하십시오. 이렇게 하면 옵션 구문 분석이 첫 번째 옵션이 아닌 인자에서 중지되는, 전통적인 유닉스 문법이 복원됩니다.</p>
<p>자체 옵션이 있는 다른 명령을 실행하는 명령 프로세서가 있고 이러한 옵션이 혼동되지 않도록 하려면 이것을 사용하십시오. 예를 들어, 각 명령에는 다른 옵션 집합이 있을 수 있습니다.</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.enable_interspersed_args">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">enable_interspersed_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.enable_interspersed_args" title="정의 주소">¶</a></dt>
<dd><p>첫 번째 옵션이 아닌 것에서 구문 분석이 중지되지 않도록 설정하여, 명령 인자와 스위치를 분산시킬 수 있도록 합니다. 이것이 기본 동작입니다.</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.get_option">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">get_option</code><span class="sig-paren">(</span><em class="sig-param">opt_str</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.get_option" title="정의 주소">¶</a></dt>
<dd><p>옵션 문자열 <em>opt_str</em>을 갖는 Option 인스턴스를 반환합니다, 또는 해당 옵션 문자열을 갖는 옵션이 없으면 <code class="docutils literal notranslate"><span class="pre">None</span></code>을 반환합니다.</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.has_option">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">has_option</code><span class="sig-paren">(</span><em class="sig-param">opt_str</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.has_option" title="정의 주소">¶</a></dt>
<dd><p>OptionParser에 옵션 문자열 <em>opt_str</em>을 갖는 옵션이 있으면 <code class="docutils literal notranslate"><span class="pre">True</span></code>를 반환합니다 (예를 들어, <code class="docutils literal notranslate"><span class="pre">-q</span></code>나 <code class="docutils literal notranslate"><span class="pre">--verbose</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.remove_option">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">remove_option</code><span class="sig-paren">(</span><em class="sig-param">opt_str</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.remove_option" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a>에 <em>opt_str</em>에 해당하는 옵션이 있으면, 해당 옵션이 제거됩니다. 해당 옵션이 다른 옵션 문자열을 제공하면, 해당 옵션 문자열은 모두 유효하지 않게 됩니다. 이 <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a>에 속하는 옵션에서 <em>opt_str</em>이 등장하지 않으면, <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>를 발생시킵니다.</p>
</dd></dl>

</div>
<div class="section" id="conflicts-between-options">
<span id="optparse-conflicts-between-options"></span><h3>옵션 간의 충돌<a class="headerlink" href="#conflicts-between-options" title="제목 주소">¶</a></h3>
<p>주의하지 않으면, 충돌하는 옵션 문자열을 갖는 옵션을 정의하기 쉽습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-n&quot;</span><span class="p">,</span> <span class="s2">&quot;--dry-run&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-n&quot;</span><span class="p">,</span> <span class="s2">&quot;--noisy&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>(일부 표준 옵션을 사용하여 자체 OptionParser 서브 클래스를 정의한 경우 특히 그렇습니다.)</p>
<p>옵션을 추가할 때마다, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 기존 옵션과의 충돌을 확인합니다. 발견되면, 현재 충돌 처리 메커니즘을 호출합니다. 충돌 처리 메커니즘을 설정할 수 있는데, 생성자에서:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">conflict_handler</span><span class="o">=</span><span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
<p>또는 별도의 호출로 가능합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">set_conflict_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
<p>사용 가능한 충돌 처리기는 다음과 같습니다:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> (기본값)</dt><dd><p>옵션 충돌이 프로그래밍 에러라고 가정하고 <code class="xref py py-exc docutils literal notranslate"><span class="pre">OptionConflictError</span></code> 를 발생시킵니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;resolve&quot;</span></code></dt><dd><p>옵션 충돌을 지능적으로 해결합니다 (아래를 참조하십시오)</p>
</dd>
</dl>
</div></blockquote>
<p>예를 들어, 충돌을 지능적으로 해결하고 <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a>를 정의하고 충돌하는 옵션을 추가해 보겠습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">conflict_handler</span><span class="o">=</span><span class="s2">&quot;resolve&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-n&quot;</span><span class="p">,</span> <span class="s2">&quot;--dry-run&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;do no harm&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-n&quot;</span><span class="p">,</span> <span class="s2">&quot;--noisy&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;be noisy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>이 시점에서, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이전에 추가된 옵션이 이미 <code class="docutils literal notranslate"><span class="pre">-n</span></code> 옵션 문자열을 사용하고 있음을 감지합니다. <code class="docutils literal notranslate"><span class="pre">conflict_handler</span></code>가 <code class="docutils literal notranslate"><span class="pre">&quot;resolve&quot;</span></code>이므로, 이전 옵션의 옵션 문자열 리스트에서 <code class="docutils literal notranslate"><span class="pre">-n</span></code>을 제거하여 상황을 해결합니다. 이제 <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code>은 사용자가 해당 옵션을 활성화하는 유일한 방법입니다. 사용자가 help를 요청하면, 도움말 메시지에 이것이 반영됩니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Options</span><span class="p">:</span>
  <span class="o">--</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span>     <span class="n">do</span> <span class="n">no</span> <span class="n">harm</span>
  <span class="o">...</span>
  <span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="o">--</span><span class="n">noisy</span>   <span class="n">be</span> <span class="n">noisy</span>
</pre></div>
</div>
<p>남아있는 옵션이 없을 때까지 이전에 추가된 옵션에 대한 옵션 문자열을 제거 할 수 있고, 사용자는 명령 줄에서 해당 옵션을 호출할 방법이 없을 가능성이 있습니다. 이 경우, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 해당 옵션을 완전히 제거해서, 도움말 텍스트나 다른 곳에 표시되지 않습니다. 기존 OptionParser를 계속 사용해서:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--dry-run&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;new dry-run option&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>이 시점에서, 원래 <code class="docutils literal notranslate"><span class="pre">-n</span></code>/<code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> 옵션에 더는 액세스할 수 없어서, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 해당 옵션을 제거하고, 다음 도움말 텍스트를 남깁니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Options</span><span class="p">:</span>
  <span class="o">...</span>
  <span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="o">--</span><span class="n">noisy</span>   <span class="n">be</span> <span class="n">noisy</span>
  <span class="o">--</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span>     <span class="n">new</span> <span class="n">dry</span><span class="o">-</span><span class="n">run</span> <span class="n">option</span>
</pre></div>
</div>
</div>
<div class="section" id="cleanup">
<span id="optparse-cleanup"></span><h3>정리<a class="headerlink" href="#cleanup" title="제목 주소">¶</a></h3>
<p>OptionParser 인스턴스에는 여러 순환 참조가 있습니다. 이것은 파이썬의 가비지 수거기에선 문제가 되지 않지만, 작업이 끝나면 OptionParser에서 <code class="xref py py-meth docutils literal notranslate"><span class="pre">destroy()</span></code>를 호출하여 순환 참조를 명시적으로 끊을 수 있습니다. 이것은 OptionParser에서 큰 객체 그래프에 도달할 수 있는 장기 실행 응용 프로그램에서 특히 유용합니다.</p>
</div>
<div class="section" id="other-methods">
<span id="optparse-other-methods"></span><h3>기타 메서드<a class="headerlink" href="#other-methods" title="제목 주소">¶</a></h3>
<p>OptionParser는 몇 가지 다른 공용 메서드를 지원합니다:</p>
<dl class="method">
<dt id="optparse.OptionParser.set_usage">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">set_usage</code><span class="sig-paren">(</span><em class="sig-param">usage</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.set_usage" title="정의 주소">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">usage</span></code> 생성자 키워드 인자에 대해 위에서 설명한 규칙에 따라 사용법 문자열을 설정합니다. <code class="docutils literal notranslate"><span class="pre">None</span></code>을 전달하면 기본 사용법 문자열이 설정됩니다; 사용법 메시지를 억제하려면 <code class="xref py py-data docutils literal notranslate"><span class="pre">optparse.SUPPRESS_USAGE</span></code>를 사용하십시오.</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.print_usage">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">print_usage</code><span class="sig-paren">(</span><em class="sig-param">file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.print_usage" title="정의 주소">¶</a></dt>
<dd><p>현재 프로그램의 사용법 메시지(<code class="docutils literal notranslate"><span class="pre">self.usage</span></code>)를 <em>file</em>(기본값 stdout)로 인쇄합니다. <code class="docutils literal notranslate"><span class="pre">self.usage</span></code>에 등장하는 문자열 <code class="docutils literal notranslate"><span class="pre">%prog</span></code>는 현재 프로그램의 이름으로 대체됩니다. <code class="docutils literal notranslate"><span class="pre">self.usage</span></code>가 비어 있거나 정의되지 않았으면 아무 작업도 수행하지 않습니다.</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.get_usage">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">get_usage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.get_usage" title="정의 주소">¶</a></dt>
<dd><p><a class="reference internal" href="#optparse.OptionParser.print_usage" title="optparse.OptionParser.print_usage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_usage()</span></code></a>와 같지만 인쇄하는 대신 사용법 문자열을 반환합니다.</p>
</dd></dl>

<dl class="method">
<dt id="optparse.OptionParser.set_defaults">
<code class="sig-prename descclassname">OptionParser.</code><code class="sig-name descname">set_defaults</code><span class="sig-paren">(</span><em class="sig-param">dest=value</em>, <em class="sig-param">...</em><span class="sig-paren">)</span><a class="headerlink" href="#optparse.OptionParser.set_defaults" title="정의 주소">¶</a></dt>
<dd><p>한 번에 여러 옵션 대상에 대한 기본값을 설정합니다. 여러 옵션이 같은 대상을 공유 할 수 있기 때문에, <a class="reference internal" href="#optparse.OptionParser.set_defaults" title="optparse.OptionParser.set_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_defaults()</span></code></a>를 사용하여 옵션의 기본값을 설정하는 것이 좋습니다. 예를 들어, 여러 &quot;mode&quot; 옵션이 모두 같은 대상을 설정하면, 그중 하나가 기본값을 설정할 수 있으며 마지막 옵션이 이깁니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--advanced&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_const&quot;</span><span class="p">,</span>
                  <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">,</span>
                  <span class="n">default</span><span class="o">=</span><span class="s2">&quot;novice&quot;</span><span class="p">)</span>    <span class="c1"># 아래에서 재정의됩니다</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--novice&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_const&quot;</span><span class="p">,</span>
                  <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="s2">&quot;novice&quot;</span><span class="p">,</span>
                  <span class="n">default</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">)</span>  <span class="c1"># 위의 설정을 재정의합니다</span>
</pre></div>
</div>
<p>이러한 혼동을 피하려면, <a class="reference internal" href="#optparse.OptionParser.set_defaults" title="optparse.OptionParser.set_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_defaults()</span></code></a>를 사용하십시오:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--advanced&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_const&quot;</span><span class="p">,</span>
                  <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--novice&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_const&quot;</span><span class="p">,</span>
                  <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="s2">&quot;novice&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="option-callbacks">
<span id="optparse-option-callbacks"></span><h2>옵션 콜백<a class="headerlink" href="#option-callbacks" title="제목 주소">¶</a></h2>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 내장 액션과 형이 여러분의 필요에 충분하지 않으면, 두 가지 선택이 있습니다: <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>를 확장하거나 콜백 옵션을 정의합니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>를 확장하는 것이 더 일반적이지만, 많은 간단한 경우에는 과합니다. 종종 간단한 콜백만 있으면 됩니다.</p>
<p>콜백 옵션을 정의하는 두 단계가 있습니다:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;callback&quot;</span></code> 액션을 사용하여 옵션 자체를 정의합니다</p></li>
<li><p>콜백을 작성합니다; 이것은 아래에 설명된 대로, 최소한 4개의 인자를 취하는 함수(또는 메서드)입니다</p></li>
</ul>
<div class="section" id="defining-a-callback-option">
<span id="optparse-defining-callback-option"></span><h3>콜백 옵션 정의하기<a class="headerlink" href="#defining-a-callback-option" title="제목 주소">¶</a></h3>
<p>항상 그렇듯이, 콜백 옵션을 정의하는 가장 쉬운 방법은 <a class="reference internal" href="#optparse.OptionParser.add_option" title="optparse.OptionParser.add_option"><code class="xref py py-meth docutils literal notranslate"><span class="pre">OptionParser.add_option()</span></code></a> 메서드를 사용하는 것입니다. <a class="reference internal" href="#optparse.Option.action" title="optparse.Option.action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action</span></code></a>과 별도로 지정해야 하는 유일한 옵션 어트리뷰트는 호출할 함수인 <code class="docutils literal notranslate"><span class="pre">callback</span></code>입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">my_callback</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">callback</span></code>은 함수(또는 다른 콜러블 객체)이므로, 이 콜백 옵션을 만들 때 <code class="docutils literal notranslate"><span class="pre">my_callback()</span></code>을 이미 정의했어야 합니다. 이 간단한 경우, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 <code class="docutils literal notranslate"><span class="pre">-c</span></code>가 인자를 취하는지조차 알지 못합니다. 이는 일반적으로 옵션이 인자를 받지 않음을 의미합니다---명령 줄에 <code class="docutils literal notranslate"><span class="pre">-c</span></code>가 있다는 것만 알 필요가 있습니다. 그러나 일부 상황에서는, 콜백이 임의의 수의 명령 줄 인자를 소비하도록 할 수 있습니다. 콜백 작성이 까다로워지는 곳입니다: 이 섹션의 뒷부분에서 다룹니다.</p>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 항상 4개의 특정 인자를 콜백에 전달하며, <a class="reference internal" href="#optparse.Option.callback_args" title="optparse.Option.callback_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_args</span></code></a>와 <a class="reference internal" href="#optparse.Option.callback_kwargs" title="optparse.Option.callback_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_kwargs</span></code></a>를 통해 지정하는 경우에만 추가 인자를 전달합니다. 따라서 최소 콜백 함수 서명은 다음과 같습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_callback</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
</pre></div>
</div>
<p>콜백에 대한 네 가지 인자가 아래에 설명되어 있습니다.</p>
<p>콜백 옵션을 정의할 때 제공할 수 있는 몇 가지 다른 옵션 어트리뷰트가 있습니다:</p>
<dl class="simple">
<dt><a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a></dt><dd><p>일반적인 의미를 갖습니다: <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code>나 <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code> 액션과 마찬가지로, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에게 하나의 인자를 소비하고 이를 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>으로 변환하도록 지시합니다. 그러나 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 변환된 값을 어딘가에 저장하는 대신 콜백 함수에 전달합니다.</p>
</dd>
<dt><a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a></dt><dd><p>역시 일반적인 의미를 갖습니다: 제공되고 &gt; 1 이면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a> 인자를 소비하며 각 인자는 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>으로 변환 가능해야 합니다. 그런 다음 변환된 값의 튜플을 콜백에 전달합니다.</p>
</dd>
<dt><a class="reference internal" href="#optparse.Option.callback_args" title="optparse.Option.callback_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_args</span></code></a></dt><dd><p>콜백에 전달할 추가 위치 인자의 튜플</p>
</dd>
<dt><a class="reference internal" href="#optparse.Option.callback_kwargs" title="optparse.Option.callback_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_kwargs</span></code></a></dt><dd><p>콜백에 전달할 추가 키워드 인자의 딕셔너리</p>
</dd>
</dl>
</div>
<div class="section" id="how-callbacks-are-called">
<span id="optparse-how-callbacks-called"></span><h3>콜백이 호출되는 방법<a class="headerlink" href="#how-callbacks-are-called" title="제목 주소">¶</a></h3>
<p>모든 콜백은 다음과 같이 호출됩니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>여기서</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">option</span></code></dt><dd><p>콜백을 호출하는 Option 인스턴스입니다</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">opt_str</span></code></dt><dd><p>콜백을 트리거 하는 명령 줄에 나타나는 옵션 문자열입니다. (축약된 긴 옵션이 사용되면, <code class="docutils literal notranslate"><span class="pre">opt_str</span></code>은 완전한, 규범적인 옵션 문자열이 됩니다---예를 들어 사용자가 <code class="docutils literal notranslate"><span class="pre">--foobar</span></code>의 약어로 명령 줄에 <code class="docutils literal notranslate"><span class="pre">--foo</span></code>를 입력하면, <code class="docutils literal notranslate"><span class="pre">opt_str</span></code>은 <code class="docutils literal notranslate"><span class="pre">&quot;--foobar&quot;</span></code>가 됩니다.)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">value</span></code></dt><dd><p>명령 줄에 나타난 이 옵션에 대한 인자입니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>이 설정되었을 때만 인자를 기대합니다; <code class="docutils literal notranslate"><span class="pre">value</span></code>의 형은 옵션의 형이 암시하는 형입니다. 이 옵션의 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>이 <code class="docutils literal notranslate"><span class="pre">None</span></code>(기대하는 인자 없음)이면, <code class="docutils literal notranslate"><span class="pre">value</span></code>는 <code class="docutils literal notranslate"><span class="pre">None</span></code>이 됩니다. <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a> &gt; 1 이면, <code class="docutils literal notranslate"><span class="pre">value</span></code>는 적절한 형의 값의 튜플이 됩니다.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">parser</span></code></dt><dd><p>모든 것을 구동하는 OptionParser 인스턴스입니다, 인스턴스 어트리뷰트를 통해 다른 흥미로운 데이터에 액세스 할 수 있어서 주로 유용합니다:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">parser.largs</span></code></dt><dd><p>남은 인자의 현재 리스트, 즉, 소비되었지만 옵션이나 옵션 인자가 아닌 인자. 예를 들어 더 많은 인자를 추가하여, <code class="docutils literal notranslate"><span class="pre">parser.largs</span></code>를 자유롭게 수정하십시오. (이 리스트는 <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>의 두 번째 반환 값인 <code class="docutils literal notranslate"><span class="pre">args</span></code>가 됩니다.)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">parser.rargs</span></code></dt><dd><p>나머지 인자의 현재 리스트, 즉, <code class="docutils literal notranslate"><span class="pre">opt_str</span></code>과 <code class="docutils literal notranslate"><span class="pre">value</span></code>(해당한다면)가 제거되고, 그 뒤에 오는 인자만 그대로 남아 있습니다. 예를 들어 더 많은 인자를 소비하여, <code class="docutils literal notranslate"><span class="pre">parser.rargs</span></code>를 자유롭게 수정하십시오.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">parser.values</span></code></dt><dd><p>옵션값이 기본적으로 저장되는 객체 (optparse.OptionValues의 인스턴스). 이를 통해 콜백은 옵션값을 저장하기 위해 나머지 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>와 같은 메커니즘을 사용할 수 있습니다; 전역이나 클로저를 엉망으로 만들 필요가 없습니다. 명령 줄에서 이미 발견된 모든 옵션의 값에 액세스하거나 수정할 수도 있습니다.</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">args</span></code></dt><dd><p><a class="reference internal" href="#optparse.Option.callback_args" title="optparse.Option.callback_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_args</span></code></a> 옵션 어트리뷰트를 통해 제공되는 임의의 위치 인자의 튜플입니다.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kwargs</span></code></dt><dd><p><a class="reference internal" href="#optparse.Option.callback_kwargs" title="optparse.Option.callback_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_kwargs</span></code></a>를 통해 제공된 임의의 키워드 인자의 딕셔너리입니다.</p>
</dd>
</dl>
</div>
<div class="section" id="raising-errors-in-a-callback">
<span id="optparse-raising-errors-in-callback"></span><h3>콜백에서 에러 발생시키기<a class="headerlink" href="#raising-errors-in-a-callback" title="제목 주소">¶</a></h3>
<p>옵션이나 인자에 문제가 있으면 콜백 함수는 <code class="xref py py-exc docutils literal notranslate"><span class="pre">OptionValueError</span></code> 를 발생시켜야 합니다. <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이것을 포착하고 프로그램을 종료하고, stderr에 여러분이 제공하는 에러 메시지를 인쇄합니다. 메시지는 명확하고 간결하며 정확해야 하며 잘못된 옵션을 언급해야 합니다. 그렇지 않으면, 사용자는 자신이 무엇을 잘못했는지 파악하는 데 어려움을 겪을 것입니다.</p>
</div>
<div class="section" id="callback-example-1-trivial-callback">
<span id="optparse-callback-example-1"></span><h3>콜백 예제 1: 간단한 콜백<a class="headerlink" href="#callback-example-1-trivial-callback" title="제목 주소">¶</a></h3>
<p>다음은 인자를 취하지 않고, 단순히 옵션이 발견되었음을 기록하는 콜백 옵션의 예입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">record_foo_seen</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">saw_foo</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--foo&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">record_foo_seen</span><span class="p">)</span>
</pre></div>
</div>
<p>물론 <code class="docutils literal notranslate"><span class="pre">&quot;store_true&quot;</span></code> 액션으로 그렇게 할 수 있습니다.</p>
</div>
<div class="section" id="callback-example-2-check-option-order">
<span id="optparse-callback-example-2"></span><h3>콜백 예제 2: 옵션 순서 확인<a class="headerlink" href="#callback-example-2-check-option-order" title="제목 주소">¶</a></h3>
<p>여기에 약간 더 흥미로운 예가 있습니다: <code class="docutils literal notranslate"><span class="pre">-a</span></code>가 발견되었다는 사실을 기록하지만, 명령 줄에서 <code class="docutils literal notranslate"><span class="pre">-b</span></code> 뒤에 오면 폭발합니다.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_order</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">b</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">OptionValueError</span><span class="p">(</span><span class="s2">&quot;can&#39;t use -a after -b&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-a&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">check_order</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="callback-example-3-check-option-order-generalized">
<span id="optparse-callback-example-3"></span><h3>콜백 예제 3: 옵션 순서 확인 (일반화)<a class="headerlink" href="#callback-example-3-check-option-order-generalized" title="제목 주소">¶</a></h3>
<p>이 콜백을 몇 가지 유사한 옵션에 다시 사용하려면 (플래그를 설정하지만, <code class="docutils literal notranslate"><span class="pre">-b</span></code>가 이미 보였으면 폭발함), 약간의 작업이 필요합니다: 에러 메시지와 설정하는 플래그를 일반화해야 합니다.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_order</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">b</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">OptionValueError</span><span class="p">(</span><span class="s2">&quot;can&#39;t use </span><span class="si">%s</span><span class="s2"> after -b&quot;</span> <span class="o">%</span> <span class="n">opt_str</span><span class="p">)</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-a&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">check_order</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">check_order</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="callback-example-4-check-arbitrary-condition">
<span id="optparse-callback-example-4"></span><h3>콜백 예제 4: 임의 조건 확인<a class="headerlink" href="#callback-example-4-check-arbitrary-condition" title="제목 주소">¶</a></h3>
<p>물론, 여기에 어떤 조건도 넣을 수 있습니다---이미 정의된 옵션의 값을 확인하는 데 국한되지 않습니다. 예를 들어, 만월일 때 호출해서는 안 되는 옵션이 있으면, 다음과 같이 하면 됩니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_moon</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">is_moon_full</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">OptionValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> option invalid when moon is full&quot;</span>
                               <span class="o">%</span> <span class="n">opt_str</span><span class="p">)</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--foo&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">check_moon</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<code class="docutils literal notranslate"><span class="pre">is_moon_full()</span></code>의 정의는 독자를 위한 연습 문제로 남겨 둡니다.)</p>
</div>
<div class="section" id="callback-example-5-fixed-arguments">
<span id="optparse-callback-example-5"></span><h3>콜백 예제 5: 고정 인자<a class="headerlink" href="#callback-example-5-fixed-arguments" title="제목 주소">¶</a></h3>
<p>고정된 수의 인자를 사용하는 콜백 옵션을 정의하면 상황이 약간 더 흥미로워집니다. 콜백 옵션이 인자를 받도록 지정하는 것은 <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code>나 <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code> 옵션을 정의하는 것과 유사합니다: <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>을 정의하면, 옵션은 해당 형으로 변환 할 수 있어야 하는 하나의 인자를 취합니다; <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a>를 추가로 정의하면, 옵션은 <a class="reference internal" href="#optparse.Option.nargs" title="optparse.Option.nargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nargs</span></code></a> 인자를 취합니다.</p>
<p>다음은 표준 <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code> 액션을 흉내 내는 예입니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--foo&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">store_value</span><span class="p">,</span>
                  <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 3개의 인자를 소비하고 이를 정수로 변환하는 작업을 처리함에 유의하십시오; 여러분이 해야 할 일은 그것들을 저장하는 것뿐입니다. (또는 무엇이든; 분명히 이 예제에서는 콜백이 필요하지 않습니다.)</p>
</div>
<div class="section" id="callback-example-6-variable-arguments">
<span id="optparse-callback-example-6"></span><h3>콜백 예제 6: 가변 인자<a class="headerlink" href="#callback-example-6-variable-arguments" title="제목 주소">¶</a></h3>
<p>가변적인 수의 인자를 취하는 옵션을 원할 때 상황이 복잡해집니다. 이 경우, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>는 이것을 위한 내장 기능을 제공하지 않아서 콜백을 작성해야 합니다. 그리고 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 일반적으로 처리하는 전통적인 유닉스 명령 줄 구문 분석의 복잡한 문제를 여러분이 처리해야 합니다. 특히, 콜백은 날(bare) <code class="docutils literal notranslate"><span class="pre">--</span></code>와 <code class="docutils literal notranslate"><span class="pre">-</span></code> 인자에 대한 전통적인 규칙을 구현해야 합니다:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--</span></code>나 <code class="docutils literal notranslate"><span class="pre">-</span></code>는 옵션 인자가 될 수 있습니다</p></li>
<li><p>날 <code class="docutils literal notranslate"><span class="pre">--</span></code> (어떤 옵션에 대한 인자가 아닌 경우): 명령 줄 처리를 중단하고 <code class="docutils literal notranslate"><span class="pre">--</span></code>를 버립니다</p></li>
<li><p>날 <code class="docutils literal notranslate"><span class="pre">-</span></code> (어떤 옵션에 대한 인자가 아닌 경우): 명령 줄 처리를 중지하지만 <code class="docutils literal notranslate"><span class="pre">-</span></code>는 유지합니다 (<code class="docutils literal notranslate"><span class="pre">parser.largs</span></code>에 추가합니다)</p></li>
</ul>
<p>가변적인 수의 인자를 취하는 옵션을 원한다면, 몇 가지 미묘하고 까다로운 문제가 있습니다. 여러분이 선택하는 정확한 구현은 여러분이 여러분의 응용 프로그램을 위해 취하고자 하는 절충을 기반으로 할 것입니다 (이것이 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 이런 종류의 것을 직접 지원하지 않는 이유입니다).</p>
<p>그런데도, 가변 인자가 있는 옵션에 대한 콜백에는 가시가 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">vararg_callback</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt_str</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">floatable</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">float</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">rargs</span><span class="p">:</span>
        <span class="c1"># --foo 와 같은 옵션에서 멈춥니다</span>
        <span class="k">if</span> <span class="n">arg</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;--&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="c1"># -a 에서 멈추지만, -3 이나 -3.0 에서는 멈추지 않습니다</span>
        <span class="k">if</span> <span class="n">arg</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">floatable</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
            <span class="k">break</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">parser</span><span class="o">.</span><span class="n">rargs</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)]</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="s2">&quot;--callback&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;vararg_attr&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">vararg_callback</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="extending-optparse">
<span id="optparse-extending-optparse"></span><h2><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> 확장하기<a class="headerlink" href="#extending-optparse" title="제목 주소">¶</a></h2>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 명령 줄 옵션을 해석하는 방법의 두 가지 주요 제어 요소는 각 옵션의 액션과 형이므로, 확장 방향은 새 액션과 새 형을 추가하는 것입니다.</p>
<div class="section" id="adding-new-types">
<span id="optparse-adding-new-types"></span><h3>새로운 형 추가하기<a class="headerlink" href="#adding-new-types" title="제목 주소">¶</a></h3>
<p>새로운 형을 추가하려면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 <code class="xref py py-class docutils literal notranslate"><span class="pre">Option</span></code> 클래스의 여러분 자신의 서브 클래스를 정의해야 합니다. 이 클래스에는 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 형을 정의하는 몇 가지 어트리뷰트가 있습니다: <a class="reference internal" href="#optparse.Option.TYPES" title="optparse.Option.TYPES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TYPES</span></code></a>와 <a class="reference internal" href="#optparse.Option.TYPE_CHECKER" title="optparse.Option.TYPE_CHECKER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TYPE_CHECKER</span></code></a>.</p>
<dl class="attribute">
<dt id="optparse.Option.TYPES">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">TYPES</code><a class="headerlink" href="#optparse.Option.TYPES" title="정의 주소">¶</a></dt>
<dd><p>형 이름의 튜플; 여러분의 서브 클래스에서, 표준 튜플을 기반으로 하는 새 튜플 <a class="reference internal" href="#optparse.Option.TYPES" title="optparse.Option.TYPES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TYPES</span></code></a>를 정의하십시오.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.TYPE_CHECKER">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">TYPE_CHECKER</code><a class="headerlink" href="#optparse.Option.TYPE_CHECKER" title="정의 주소">¶</a></dt>
<dd><p>형 이름을 형 검사 함수에 매핑하는 딕셔너리. 형 검사 함수는 다음과 같은 서명을 갖습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_mytype</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>여기서 <code class="docutils literal notranslate"><span class="pre">option</span></code>은 <code class="xref py py-class docutils literal notranslate"><span class="pre">Option</span></code> 인스턴스이고, <code class="docutils literal notranslate"><span class="pre">opt</span></code>는 옵션 문자열(예를 들어, <code class="docutils literal notranslate"><span class="pre">-f</span></code>)이며, <code class="docutils literal notranslate"><span class="pre">value</span></code>는 검사되고 원하는 형으로 변환되어야 하는 명령 줄의 문자열입니다. <code class="docutils literal notranslate"><span class="pre">check_mytype()</span></code>은 가상의 형 <code class="docutils literal notranslate"><span class="pre">mytype</span></code>의 객체를 반환해야 합니다. 형 검사 함수가 반환한 값은 <code class="xref py py-meth docutils literal notranslate"><span class="pre">OptionParser.parse_args()</span></code>에서 반환한 OptionValues 인스턴스에 포함되거나 <code class="docutils literal notranslate"><span class="pre">value</span></code> 매개 변수로 콜백에 전달됩니다.</p>
<p>형 검사 함수는 문제가 발생하면 <code class="xref py py-exc docutils literal notranslate"><span class="pre">OptionValueError</span></code> 를 발생시켜야 합니다. <code class="xref py py-exc docutils literal notranslate"><span class="pre">OptionValueError</span></code> 는 <a class="reference internal" href="#optparse.OptionParser" title="optparse.OptionParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code></a>의 <code class="xref py py-meth docutils literal notranslate"><span class="pre">error()</span></code> 메서드에 있는 그대로 전달되는 단일 문자열 인자를 취하며, 이는 차례로 프로그램 이름과 문자열 <code class="docutils literal notranslate"><span class="pre">&quot;error:&quot;</span></code>를 앞에 붙이고 프로세스를 종료하기 전에 모든 것을 stderr에 인쇄합니다.</p>
</dd></dl>

<p>다음은 명령 줄에서 파이썬 스타일 복소수를 구문 분석하기 위해 <code class="docutils literal notranslate"><span class="pre">&quot;complex&quot;</span></code> 옵션 형을 추가하는 것을 보여주는 우스꽝스러운 예입니다. (<a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> 1.3은 복소수에 대한 기본 지원을 추가했기 때문에 전보다 훨씬 우스꽝스럽지만, 신경 쓰지 마십시오.)</p>
<p>첫째, 필요한 임포트:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">copy</span>
<span class="kn">from</span> <span class="nn">optparse</span> <span class="k">import</span> <span class="n">Option</span><span class="p">,</span> <span class="n">OptionValueError</span>
</pre></div>
</div>
<p>나중에 (Option 서브 클래스의 <a class="reference internal" href="#optparse.Option.TYPE_CHECKER" title="optparse.Option.TYPE_CHECKER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TYPE_CHECKER</span></code></a> 클래스 어트리뷰트에서) 참조되므로, 형 검사기를 먼저 정의해야 합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_complex</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">opt</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">complex</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">OptionValueError</span><span class="p">(</span>
            <span class="s2">&quot;option </span><span class="si">%s</span><span class="s2">: invalid complex value: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">opt</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
</pre></div>
</div>
<p>마지막으로, Option 서브 클래스:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyOption</span> <span class="p">(</span><span class="n">Option</span><span class="p">):</span>
    <span class="n">TYPES</span> <span class="o">=</span> <span class="n">Option</span><span class="o">.</span><span class="n">TYPES</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;complex&quot;</span><span class="p">,)</span>
    <span class="n">TYPE_CHECKER</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">TYPE_CHECKER</span><span class="p">)</span>
    <span class="n">TYPE_CHECKER</span><span class="p">[</span><span class="s2">&quot;complex&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">check_complex</span>
</pre></div>
</div>
<p>(<a class="reference internal" href="#optparse.Option.TYPE_CHECKER" title="optparse.Option.TYPE_CHECKER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Option.TYPE_CHECKER</span></code></a>의 <a class="reference internal" href="copy.html#module-copy" title="copy: Shallow and deep copy operations."><code class="xref py py-func docutils literal notranslate"><span class="pre">copy()</span></code></a>를 만들지 않았다면, <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>의 Option 클래스의 <a class="reference internal" href="#optparse.Option.TYPE_CHECKER" title="optparse.Option.TYPE_CHECKER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TYPE_CHECKER</span></code></a> 어트리뷰트를 수정하게 될 것입니다. 이것은 파이썬이기 때문에, 좋은 태도와 상식을 제외하고는 아무것도 이렇게 하는 것을 막을 수 없습니다.)</p>
<p>이것이 전부입니다! 이제 OptionParser가 Option 대신 MyOption을 사용하도록 지시해야 한다는 점을 제외하고는, 다른 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> 기반 스크립트와 마찬가지로 새 옵션 형을 사용하는 스크립트를 작성할 수 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">option_class</span><span class="o">=</span><span class="n">MyOption</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;complex&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>또는, 여러분 자신만의 옵션 목록을 만들어 OptionParser에 전달할 수 있습니다; 위의 방법으로 <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_option()</span></code>을 사용하지 않으면, OptionParser에 사용할 옵션 클래스를 알려줄 필요가 없습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">option_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">MyOption</span><span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;complex&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">)]</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">option_list</span><span class="o">=</span><span class="n">option_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-new-actions">
<span id="optparse-adding-new-actions"></span><h3>새로운 액션 추가하기<a class="headerlink" href="#adding-new-actions" title="제목 주소">¶</a></h3>
<p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>에는 액션에 대한 몇 가지 분류가 있음을 이해해야 해서, 새 액션을 추가하는 것은 약간 까다롭습니다:</p>
<dl class="simple">
<dt>&quot;저장&quot; 액션</dt><dd><p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 현재 OptionValues 인스턴스의 어트리뷰트에 값을 저장하는 결과를 주는 액션; 이러한 옵션을 사용하려면 Option 생성자에 <a class="reference internal" href="#optparse.Option.dest" title="optparse.Option.dest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dest</span></code></a> 어트리뷰트를 제공해야 합니다.</p>
</dd>
<dt>&quot;형이 있는&quot; 액션</dt><dd><p>명령 줄에서 값을 취하고 이것이 특정 형일 것으로 기대하는 액션; 또는, 특정 형으로 변환할 수 있는 문자열. 이러한 옵션을 사용하려면 Option 생성자에 <a class="reference internal" href="#optparse.Option.type" title="optparse.Option.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a> 어트리뷰트를 제공해야 합니다.</p>
</dd>
</dl>
<p>이들은 겹치는 집합입니다: 일부 기본 &quot;저장&quot; 액션은 <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;store_const&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code> 및 <code class="docutils literal notranslate"><span class="pre">&quot;count&quot;</span></code>이고, 기본 &quot;형이 있는&quot; 액션은 <code class="docutils literal notranslate"><span class="pre">&quot;store&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code> 및 <code class="docutils literal notranslate"><span class="pre">&quot;callback&quot;</span></code>입니다.</p>
<p>액션을 추가할 때, Option의 다음 클래스 어트리뷰트 중 하나 이상에 나열하여 분류해야 합니다 (모두 문자열 리스트입니다):</p>
<dl class="attribute">
<dt id="optparse.Option.ACTIONS">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">ACTIONS</code><a class="headerlink" href="#optparse.Option.ACTIONS" title="정의 주소">¶</a></dt>
<dd><p>모든 액션은 ACTIONS에 나열되어야 합니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.STORE_ACTIONS">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">STORE_ACTIONS</code><a class="headerlink" href="#optparse.Option.STORE_ACTIONS" title="정의 주소">¶</a></dt>
<dd><p>&quot;저장&quot; 액션이 여기에 추가로 나열됩니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.TYPED_ACTIONS">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">TYPED_ACTIONS</code><a class="headerlink" href="#optparse.Option.TYPED_ACTIONS" title="정의 주소">¶</a></dt>
<dd><p>&quot;형이 있는&quot; 액션이 여기에 추가로 나열됩니다.</p>
</dd></dl>

<dl class="attribute">
<dt id="optparse.Option.ALWAYS_TYPED_ACTIONS">
<code class="sig-prename descclassname">Option.</code><code class="sig-name descname">ALWAYS_TYPED_ACTIONS</code><a class="headerlink" href="#optparse.Option.ALWAYS_TYPED_ACTIONS" title="정의 주소">¶</a></dt>
<dd><p>항상 형을 취하는 액션(즉, 옵션이 항상 값을 취하는 액션)이 여기에 추가로 나열됩니다. 이것의 유일한 효과는 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 <a class="reference internal" href="#optparse.Option.ALWAYS_TYPED_ACTIONS" title="optparse.Option.ALWAYS_TYPED_ACTIONS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ALWAYS_TYPED_ACTIONS</span></code></a>에 액션이 나열되는 명시적인 형이 없는 옵션에 기본형인 <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>을 대입한다는 것입니다.</p>
</dd></dl>

<p>새 액션을 실제로 구현하려면, Option의 <code class="xref py py-meth docutils literal notranslate"><span class="pre">take_action()</span></code> 메서드를 재정의하고 액션을 인식하는 케이스를 추가해야 합니다.</p>
<p>예를 들어, <code class="docutils literal notranslate"><span class="pre">&quot;extend&quot;</span></code> 액션을 추가해 보겠습니다. 이것은 표준 <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code> 액션과 유사하지만, 명령 줄에서 단일 값을 취해서 기존 리스트에 추가하는 대신, <code class="docutils literal notranslate"><span class="pre">&quot;extend&quot;</span></code>는 단일 쉼표로 구분된 문자열에서 여러 값을 취해서 기존 리스트를 확장합니다. 즉, <code class="docutils literal notranslate"><span class="pre">--names</span></code>가 <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code> 형의 <code class="docutils literal notranslate"><span class="pre">&quot;extend&quot;</span></code> 옵션이면, 다음과 같은 명령 줄은</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">names</span><span class="o">=</span><span class="n">foo</span><span class="p">,</span><span class="n">bar</span> <span class="o">--</span><span class="n">names</span> <span class="n">blah</span> <span class="o">--</span><span class="n">names</span> <span class="n">ding</span><span class="p">,</span><span class="n">dong</span>
</pre></div>
</div>
<p>다음과 같은 리스트를 만듭니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;blah&quot;</span><span class="p">,</span> <span class="s2">&quot;ding&quot;</span><span class="p">,</span> <span class="s2">&quot;dong&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>다시 Option의 서브 클래스를 정의합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyOption</span><span class="p">(</span><span class="n">Option</span><span class="p">):</span>

    <span class="n">ACTIONS</span> <span class="o">=</span> <span class="n">Option</span><span class="o">.</span><span class="n">ACTIONS</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;extend&quot;</span><span class="p">,)</span>
    <span class="n">STORE_ACTIONS</span> <span class="o">=</span> <span class="n">Option</span><span class="o">.</span><span class="n">STORE_ACTIONS</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;extend&quot;</span><span class="p">,)</span>
    <span class="n">TYPED_ACTIONS</span> <span class="o">=</span> <span class="n">Option</span><span class="o">.</span><span class="n">TYPED_ACTIONS</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;extend&quot;</span><span class="p">,)</span>
    <span class="n">ALWAYS_TYPED_ACTIONS</span> <span class="o">=</span> <span class="n">Option</span><span class="o">.</span><span class="n">ALWAYS_TYPED_ACTIONS</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;extend&quot;</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">take_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">opt</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;extend&quot;</span><span class="p">:</span>
            <span class="n">lvalue</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
            <span class="n">values</span><span class="o">.</span><span class="n">ensure_value</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">lvalue</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Option</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">opt</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">parser</span><span class="p">)</span>
</pre></div>
</div>
<p>참고할만한 특징:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;extend&quot;</span></code>는 명령 줄에서 값을 기대하기도 하고 그 값을 어딘가에 저장하기도 하므로, <a class="reference internal" href="#optparse.Option.STORE_ACTIONS" title="optparse.Option.STORE_ACTIONS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STORE_ACTIONS</span></code></a>와 <a class="reference internal" href="#optparse.Option.TYPED_ACTIONS" title="optparse.Option.TYPED_ACTIONS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TYPED_ACTIONS</span></code></a> 모두에 들어갑니다.</p></li>
<li><p><a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a>가 기본형 <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>을 <code class="docutils literal notranslate"><span class="pre">&quot;extend&quot;</span></code> 액션에 대입하도록 하기 위해, <a class="reference internal" href="#optparse.Option.ALWAYS_TYPED_ACTIONS" title="optparse.Option.ALWAYS_TYPED_ACTIONS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ALWAYS_TYPED_ACTIONS</span></code></a>에도 <code class="docutils literal notranslate"><span class="pre">&quot;extend&quot;</span></code> 액션을 넣습니다.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MyOption.take_action()</span></code>은 이 하나의 새로운 액션만 구현하고, 표준 <a class="reference internal" href="#module-optparse" title="optparse: Command-line option parsing library. (deprecated)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> 액션을 위해 제어를 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Option.take_action()</span></code>으로 되돌립니다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">values</span></code>는 매우 유용한 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ensure_value()</span></code> 메서드를 제공하는 optparse_parser.Values 클래스의 인스턴스입니다. <code class="xref py py-meth docutils literal notranslate"><span class="pre">ensure_value()</span></code>는 본질적으로 안전밸브가 있는 <a class="reference internal" href="functions.html#getattr" title="getattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">getattr()</span></code></a>입니다; 다음과 같이 호출됩니다</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">values</span><span class="o">.</span><span class="n">ensure_value</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">values</span></code>의 <code class="docutils literal notranslate"><span class="pre">attr</span></code> 어트리뷰트가 존재하지 않거나 <code class="docutils literal notranslate"><span class="pre">None</span></code>이면, ensure_value()는 먼저 이를 <code class="docutils literal notranslate"><span class="pre">value</span></code>로 설정한 다음, <code class="docutils literal notranslate"><span class="pre">value</span></code>를 반환합니다. 이것은 <code class="docutils literal notranslate"><span class="pre">&quot;extend&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code> 및 <code class="docutils literal notranslate"><span class="pre">&quot;count&quot;</span></code>와 같은 액션에 매우 편리합니다. 이 액션들은 모두 변수에 데이터를 누적하고 해당 변수가 특정 형(처음 두 개는 리스트, 마지막은 정수)이 될 것으로 기대합니다. <code class="xref py py-meth docutils literal notranslate"><span class="pre">ensure_value()</span></code>를 사용한다는 것은 액션을 사용하는 스크립트가 문제의 옵션 대상에 대한 기본값 설정에 대해 걱정할 필요가 없음을 의미합니다; 기본값을 <code class="docutils literal notranslate"><span class="pre">None</span></code>으로 그대로 둘 수 있으며 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ensure_value()</span></code>는 필요할 때 올바르게 처리합니다.</p>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">목차</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code> --- 명령 줄 옵션용 구문 분석기</a><ul>
<li><a class="reference internal" href="#background">배경</a><ul>
<li><a class="reference internal" href="#terminology">용어</a></li>
<li><a class="reference internal" href="#what-are-options-for">옵션은 무엇을 위한 것입니까?</a></li>
<li><a class="reference internal" href="#what-are-positional-arguments-for">위치 인자는 무엇을 위한 것입니까?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorial">자습서</a><ul>
<li><a class="reference internal" href="#understanding-option-actions">옵션 액션의 이해</a></li>
<li><a class="reference internal" href="#the-store-action">store 액션</a></li>
<li><a class="reference internal" href="#handling-boolean-flag-options">불리언 (플래그) 옵션 처리하기</a></li>
<li><a class="reference internal" href="#other-actions">다른 액션들</a></li>
<li><a class="reference internal" href="#default-values">기본값</a></li>
<li><a class="reference internal" href="#generating-help">도움말 생성하기</a><ul>
<li><a class="reference internal" href="#grouping-options">옵션 그룹화하기</a></li>
</ul>
</li>
<li><a class="reference internal" href="#printing-a-version-string">버전 문자열 인쇄하기</a></li>
<li><a class="reference internal" href="#how-optparse-handles-errors"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code>가 에러를 처리하는 방법</a></li>
<li><a class="reference internal" href="#putting-it-all-together">모두 합치기</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reference-guide">레퍼런스 지침서</a><ul>
<li><a class="reference internal" href="#creating-the-parser">구문 분석기 만들기</a></li>
<li><a class="reference internal" href="#populating-the-parser">구문 분석기 채우기</a></li>
<li><a class="reference internal" href="#defining-options">옵션 정의하기</a></li>
<li><a class="reference internal" href="#option-attributes">옵션 어트리뷰트</a></li>
<li><a class="reference internal" href="#standard-option-actions">표준 옵션 액션</a></li>
<li><a class="reference internal" href="#standard-option-types">표준 옵션 형</a></li>
<li><a class="reference internal" href="#parsing-arguments">인자 구문 분석하기</a></li>
<li><a class="reference internal" href="#querying-and-manipulating-your-option-parser">옵션 구문 분석기를 조회하고 조작하기</a></li>
<li><a class="reference internal" href="#conflicts-between-options">옵션 간의 충돌</a></li>
<li><a class="reference internal" href="#cleanup">정리</a></li>
<li><a class="reference internal" href="#other-methods">기타 메서드</a></li>
</ul>
</li>
<li><a class="reference internal" href="#option-callbacks">옵션 콜백</a><ul>
<li><a class="reference internal" href="#defining-a-callback-option">콜백 옵션 정의하기</a></li>
<li><a class="reference internal" href="#how-callbacks-are-called">콜백이 호출되는 방법</a></li>
<li><a class="reference internal" href="#raising-errors-in-a-callback">콜백에서 에러 발생시키기</a></li>
<li><a class="reference internal" href="#callback-example-1-trivial-callback">콜백 예제 1: 간단한 콜백</a></li>
<li><a class="reference internal" href="#callback-example-2-check-option-order">콜백 예제 2: 옵션 순서 확인</a></li>
<li><a class="reference internal" href="#callback-example-3-check-option-order-generalized">콜백 예제 3: 옵션 순서 확인 (일반화)</a></li>
<li><a class="reference internal" href="#callback-example-4-check-arbitrary-condition">콜백 예제 4: 임의 조건 확인</a></li>
<li><a class="reference internal" href="#callback-example-5-fixed-arguments">콜백 예제 5: 고정 인자</a></li>
<li><a class="reference internal" href="#callback-example-6-variable-arguments">콜백 예제 6: 가변 인자</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extending-optparse"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code> 확장하기</a><ul>
<li><a class="reference internal" href="#adding-new-types">새로운 형 추가하기</a></li>
<li><a class="reference internal" href="#adding-new-actions">새로운 액션 추가하기</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>이전 항목</h4>
  <p class="topless"><a href="superseded.html"
                        title="이전 장">대체된 모듈</a></p>
  <h4>다음 항목</h4>
  <p class="topless"><a href="imp.html"
                        title="다음 장"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code> --- Access the <span class="xref std std-ref">import</span> internals</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>탐색</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="전체 색인"
             >색인</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 모듈 목록"
             >모듈</a> |</li>
        <li class="right" >
          <a href="imp.html" title="imp --- Access the import internals"
             >다음</a> |</li>
        <li class="right" >
          <a href="superseded.html" title="대체된 모듈"
             >이전</a> |</li>

    <li><img src="../_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <a href="../index.html">설명서 </a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >파이썬 표준 라이브러리</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="superseded.html" >대체된 모듈</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="빠른 검색" type="text" name="q" />
          <input type="submit" value="이동" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">저작권</a> 2001-2021, Python Software Foundation.
    <br />
    한국어 번역 저작권 &copy; 2017-2021, Flowdas &amp; 역자. All rights reserved.
    </div>

  </body>
</html>